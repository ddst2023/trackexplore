"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2506],{14877:function(a,b,c){c.r(b),c.d(b,{Bridges:function(){return eT},Credentials:function(){return aa},DMP:function(){return qj},Data:function(){return mF},FP:function(){return bL},IAM:function(){return eD},IO:function(){return nc},IQ:function(){return oS},IamIdentityType:function(){return j},IamPolicyStatementEffect:function(){return i},IamPolicyStatementPrincipalType:function(){return h},Log:function(){return bO},LogLevel:function(){return e},LogType:function(){return d},Loyalty:function(){return fl},PIM:function(){return kl},Payments:function(){return hd},Pipelines:function(){return mr},ServiceIntegrationToolkit:function(){return b3},ShopFront:function(){return mc},ShopFrontCatalogAlpha:function(){return mg},Signer:function(){return bV},Slack:function(){return mB},allProvisionableResources:function(){return qm},basicUncachedCorsJsonApiHeaders:function(){return qp},maybeAuthed:function(){return qo}});var d,e,f,g,h,i,j,k,l=c(82670),m=c(82222),n=c(30901),o=c(8571),p=c.n(o),q=c(68948),r=c(95195),s=c(35529),t=c(84224),u=c.n(t),v=c(95645),w=c.n(v),x=c(34155),y=c(48764).Buffer;function z(){var a=function(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]},b=function(a,b,e,f){var g,h,i,j,m=Object.create((b&&(0,l.Z)(b.prototype,d)?b:d).prototype),o=new k(f||[]);return m._invoke=(g=a,h=e,i=o,j="suspendedStart",function(a,b){if("executing"===j)throw Error("Generator is already running");if("completed"===j){if("throw"===a)throw b;return n()}for(i.method=a,i.arg=b;;){var d=i.delegate;if(d){var e=C(d,i);if(e){if(e===w)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===j)throw j="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);j="executing";var f=c(g,h,i);if("normal"===f.type){if(j=i.done?"completed":"suspendedYield",f.arg===w)continue;return{value:f.arg,done:i.done}}"throw"===f.type&&(j="completed",i.method="throw",i.arg=f.arg)}}),m},c=function(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(d){return{type:"throw",arg:d}}},d=function(){},e=function(){},f=function(){},g=function(b){["next","throw","return"].forEach(function(c){a(b,c,function(a){return this._invoke(c,a)})})},h=function(a,b){var d;function e(d,f,g,h){var i=c(a[d],a,f);if("throw"!==i.type){var j=i.arg,k=j.value;return k&&"object"==typeof k&&q.call(k,"__await")?b.resolve(k.__await).then(function(a){e("next",a,g,h)},function(a){e("throw",a,g,h)}):b.resolve(k).then(function(a){j.value=a,g(j)},function(a){return e("throw",a,g,h)})}h(i.arg)}this._invoke=function(a,c){function f(){return new b(function(b,d){e(a,c,b,d)})}return d=d?d.then(f,f):f()}},i=function(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)},j=function(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b},k=function(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(i,this),this.reset(!0)},m=function(a){if(a){var b=a[s];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(q.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=void 0,b.done=!0,b};return d.next=d}}return{next:n}},n=function(){return{value:void 0,done:!0}};z=function(){return o};var o={},p=Object.prototype,q=p.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",t=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";try{a({},"")}catch(v){a=function(a,b,c){return a[b]=c}}o.wrap=b;var w={},x={};a(x,s,function(){return this});var y=Object.getPrototypeOf,A=y&&y(y(m([])));A&&A!==p&&q.call(A,s)&&(x=A);var B=f.prototype=d.prototype=Object.create(x);function C(a,b){var d=a.iterator[b.method];if(void 0===d){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=void 0,C(a,b),"throw"===b.method))return w;b.method="throw",b.arg=TypeError("The iterator does not provide a 'throw' method")}return w}var e=c(d,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,w;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=void 0),b.delegate=null,w):f:(b.method="throw",b.arg=TypeError("iterator result is not an object"),b.delegate=null,w)}return e.prototype=f,a(B,"constructor",f),a(f,"constructor",e),e.displayName=a(f,u,"GeneratorFunction"),o.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===e||"GeneratorFunction"===(b.displayName||b.name))},o.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,f):(b.__proto__=f,a(b,u,"GeneratorFunction")),b.prototype=Object.create(B),b},o.awrap=function(a){return{__await:a}},g(h.prototype),a(h.prototype,t,function(){return this}),o.AsyncIterator=h,o.async=function(a,c,d,e,f){void 0===f&&(f=Promise);var g=new h(b(a,c,d,e),f);return o.isGeneratorFunction(c)?g:g.next().then(function(a){return a.done?a.value:g.next()})},g(B),a(B,u,"Generator"),a(B,s,function(){return this}),a(B,"toString",function(){return"[object Generator]"}),o.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},o.values=m,k.prototype={constructor:k,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!a)for(var b in this)"t"===b.charAt(0)&&q.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){var b=function(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=void 0),!!d};if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=q.call(e,"catchLoc"),h=q.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&q.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,w):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),w},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),j(c),w}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;j(c)}return e}}throw Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:m(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=void 0),w}},o}function A(){var a=function(a,b){var d=c.get(b);return Object.keys(d).reduce(function(b,c){var e=d[c];if("number"==typeof e)b[c]=a[e];else{for(var f=0;void 0===a[e[f]]&&f+1<e.length;)f++;b[c]=a[e[f]]}return b},Object.create(null))};A=function(a,b){return new d(a,void 0,b)};var b=RegExp.prototype,c=new WeakMap;function d(a,b,e){var f=RegExp(a,b);return c.set(f,e||c.get(a)),F(f,d.prototype)}return E(d,RegExp),d.prototype.exec=function(c){var d=b.exec.call(this,c);return d&&(d.groups=a(d,this)),d},d.prototype[Symbol.replace]=function(d,e){if("string"==typeof e){var f=c.get(this);return b[Symbol.replace].call(this,d,e.replace(/\$<([^>]+)>/g,function(a,b){return"$"+f[b]}))}if("function"==typeof e){var g=this;return b[Symbol.replace].call(this,d,function(){var b=arguments;return"object"!=typeof b[b.length-1]&&(b=[].slice.call(b)).push(a(b,g)),e.apply(this,b)})}return b[Symbol.replace].call(this,d,e)},A.apply(this,arguments)}function B(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function C(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){B(f,d,e,g,h,"next",a)}function h(a){B(f,d,e,g,h,"throw",a)}g(void 0)})}}function D(){return(D=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function E(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&F(a,b)}function F(a,b){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function G(a,b,c){return(G=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}()?function(a,b,c){var d=[null];d.push.apply(d,b);var e=new(Function.bind.apply(a,d));return c&&F(e,c.prototype),e}:Reflect.construct.bind()).apply(null,arguments)}function H(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function I(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var J,K,L,M,N,O,P,Q,R,S=(J=C(z().mark(function a(b){var c,d,e,f,g,h,i;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=(d=T({namespace:c=b.namespace})).profile,f=d.accessKeyId,g=d.secretAccessKey,h=d.sessionToken,!(f&&g)){a.next=4;break}return a.abrupt("return",{accessKeyId:f,secretAccessKey:g,sessionToken:h});case 4:return a.next=6,V({namespace:c,profile:e});case 6:if(!(i=a.sent)){a.next=9;break}return a.abrupt("return",i);case 9:return a.abrupt("return",null);case 10:case"end":return a.stop()}},a)})),function(a){return J.apply(this,arguments)}),T=function(a){var b=a.namespace.toUpperCase(),c=x.env,d=c[b+"_ACCESS_KEY_ID"],e=c[b+"_SECRET_ACCESS_KEY"],f=c[b+"_SESSION_TOKEN"],g=c[b+"_PROFILE"];return{accessKeyId:d,secretAccessKey:e,sessionToken:f,profile:g}},U=(K=C(z().mark(function a(b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.lowerNamespace,e=b.fileType,f=b.headerFormat,g=b.profile,a.next=3,Promise.all([Promise.resolve().then(c.t.bind(c,84224,23)),Promise.resolve().then(c.t.bind(c,95645,23)),c.e(6872).then(c.t.bind(c,66872,23))]);case 3:i=(h=a.sent)[0].default,j=h[1].default,k=h[2].homedir,l=k(),m=j.resolve(l,"."+d,e),n=f(g||"default"),o=null,a.prev=11,o=i.readFileSync(m).toString(),a.next=18;break;case 15:return a.prev=15,a.t0=a.catch(11),a.abrupt("return",null);case 18:if(-1!==(q=(p=o.split("\n").map(function(a){return a.trim()})).indexOf("["+n+"]"))){a.next=22;break}return a.abrupt("return",null);case 22:r=q+1,s={};case 24:if(!(r<p.length)){a.next=37;break}if(t=p[r]){a.next=28;break}return a.abrupt("break",37);case 28:if(v=(u=t.split("=").map(function(a){return a.trim()}))[0],w=u[1],!(v&&w&&"["!==v.slice(0,1))){a.next=34;break}s[v]=w,r++,a.next=35;break;case 34:return a.abrupt("break",37);case 35:a.next=24;break;case 37:return a.abrupt("return",s);case 38:case"end":return a.stop()}},a,null,[[11,15]])})),function(a){return K.apply(this,arguments)}),V=(L=C(z().mark(function a(b){var c,d,e,f,g,h,i,j;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.namespace,d=b.profile,e=c.toLowerCase(),a.next=4,U({lowerNamespace:e,profile:d,fileType:"credentials",headerFormat:function(a){return a}});case 4:if(f=a.sent){a.next=7;break}return a.abrupt("return",null);case 7:if(g=f[e+"_access_key_id"],h=f[e+"_secret_access_key"],!("string"==typeof g&&"string"==typeof h)){a.next=14;break}return i={accessKeyId:g,secretAccessKey:h},"string"==typeof(j=f[e+"_session_token"])&&(i.sessionToken=j),a.abrupt("return",i);case 14:return a.abrupt("return",null);case 15:case"end":return a.stop()}},a)})),function(a){return L.apply(this,arguments)}),W="http://169.254.169.254/latest",X=function(a){var b=a.ssoAccountId,d=a.ssoRoleName,e=a.ssoStartUrl;return Promise.resolve().then(c.t.bind(c,42474,23)).then(function(a){return a.default.createHash("sha1").update('{"accountId":"'+b+'","roleName":"'+d+'","startUrl":"'+e+'"}').digest("hex")})},Y=(M=C(z().mark(function a(b){var d,e,f,g,h,i,j,k,l,m,o,q,r,s,t,u,v,w,x,y,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.profile,a.next=3,Promise.all([Promise.resolve().then(c.t.bind(c,84224,23)),Promise.resolve().then(c.t.bind(c,95645,23)),Promise.resolve().then(c.t.bind(c,42474,23)),c.e(6872).then(c.t.bind(c,66872,23))]);case 3:return f=(e=a.sent)[0].default,g=e[1].default,h=e[2].default,i=e[3].homedir,j=i(),a.next=11,U({lowerNamespace:"aws",profile:d,fileType:"config",headerFormat:function(a){return"profile "+a}});case 11:if(k=a.sent){a.next=14;break}return a.abrupt("return",null);case 14:if(l=k.sso_start_url,m=k.sso_account_id,o=k.sso_role_name,!(l&&m&&o)){a.next=63;break}return a.next=20,X({ssoStartUrl:l,ssoAccountId:m,ssoRoleName:o});case 20:a.t0=a.sent,q=a.t0+".json",r=g.resolve(j,".aws","cli","cache",q),s=null;try{s=(0,n.assertion)((0,n.object)({Credentials:(0,n.object)({AccessKeyId:(0,n.string)(),SecretAccessKey:(0,n.string)(),SessionToken:(0,n.string)(),Expiration:(0,n.string)()})}))(JSON.parse(f.readFileSync(r).toString()))}catch(z){s=null}if(!s){a.next=31;break}if(v=(u=(t=s).Credentials).AccessKeyId,w=u.SecretAccessKey,x=u.SessionToken,!(Date.parse(y=u.Expiration)>Date.now()&&"string"==typeof v&&"string"==typeof w&&"string"==typeof x)){a.next=29;break}return a.abrupt("return",{accessKeyId:v,secretAccessKey:w,sessionToken:x});case 29:case 60:a.next=63;break;case 31:A=g.resolve(j,".aws","sso","cache",h.createHash("sha1").update(l).digest("hex")+".json"),B=null,a.prev=33,B=(0,n.assertion)((0,n.object)({accessToken:(0,n.string)(),expiresAt:(0,n.string)(),region:(0,n.string)()}))(JSON.parse(f.readFileSync(A).toString())),a.next=40;break;case 37:throw a.prev=37,a.t1=a.catch(33),Error("Invalid or expired SSO session used for AWS bridge (profile specified, no credentials or bearer cache found)");case 40:if(D=(C=B).accessToken,E=C.expiresAt,F=C.region,!(Date.parse(E)>Date.now()&&"string"==typeof D&&"string"==typeof F)){a.next=62;break}return G="https://portal.sso."+F+".amazonaws.com/federation/credentials",H={account_id:m,role_name:o},I={"x-amz-sso_bearer_token":D},a.next=47,p().get(G,{params:H,headers:I});case 47:if(L=(K=(J=a.sent).data.roleCredentials).accessKeyId,M=K.secretAccessKey,N=K.sessionToken,O=K.expiration,!("string"==typeof L&&"string"==typeof N&&"string"==typeof M)){a.next=59;break}P={ProviderType:"sso",Credentials:{AccessKeyId:L,SecretAccessKey:M,SessionToken:N,Expiration:new Date(O).toISOString()}};try{f.writeFileSync(r,JSON.stringify(P))}catch(Q){}return a.abrupt("return",{accessKeyId:L,secretAccessKey:M,sessionToken:N});case 59:throw Error("Invalid or expired SSO session used for AWS bridge (bearer cache used, token failed)");case 62:throw Error("Invalid or expired SSO session used for AWS bridge (no credentials cached, bearer cache found expired)");case 63:return a.abrupt("return",null);case 64:case"end":return a.stop()}},a,null,[[33,37]])})),function(a){return M.apply(this,arguments)}),Z=(N=C(z().mark(function a(){var b,c,d,e;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S({namespace:"AWS"});case 2:if(!(b=a.sent)){a.next=5;break}return a.abrupt("return",b);case 5:if(!(d=(c=T({namespace:"AWS"})).profile)){a.next=12;break}return a.next=9,Y({profile:d});case 9:if(!(e=a.sent)){a.next=12;break}return a.abrupt("return",e);case 12:return a.prev=12,a.next=15,$();case 15:return a.abrupt("return",a.sent);case 18:return a.prev=18,a.t0=a.catch(12),a.abrupt("return",null);case 21:case"end":return a.stop()}},a,null,[[12,18]])})),function(){return N.apply(this,arguments)}),$=(O=C(z().mark(function a(){var b,c,d,e,f,g,h,i,j,k;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p().get(W+"/api/token",{timeout:1e3,headers:{"X-aws-ec2-metadata-token-ttl-seconds":"21600"}});case 3:return c=(b=a.sent).data,a.next=7,p().get(W+"/iam/security-credentials/",{timeout:1e3,headers:{"X-aws-ec2-metadata-token":c}});case 7:return f=String(e=(d=a.sent).data).split("\n").map(function(a){return a.trim()}).find(function(){return/^[+=,.@\-\w]+$/}),a.next=12,p().get(W+"/iam/security-credentials/"+f,{headers:{"X-aws-ec2-metadata-token":c}});case 12:return i=(h=(g=a.sent).data).AccessKeyId,j=h.SecretAccessKey,k=h.Token,a.abrupt("return",{accessKeyId:i,secretAccessKey:j,sessionToken:k});case 20:return a.prev=20,a.t0=a.catch(0),a.abrupt("return",null);case 23:case"end":return a.stop()}},a,null,[[0,20]])})),function(){return O.apply(this,arguments)}),_=(P=C(z().mark(function a(){var b;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S({namespace:"CSC"});case 2:if(b=a.sent){a.next=5;break}throw Error("Could not resolve any credentials with default simpleprovider.");case 5:return a.abrupt("return",b);case 6:case"end":return a.stop()}},a)})),function(){return P.apply(this,arguments)}),aa={AWS:Z,CSC:_},ab=A(/^(AWS4\x2DHMAC\x2DSHA256) Credential=([0-9A-Z]+)\/(\d{4})(\d{2})(\d{2})\/([0-9a-z-]+)\/([a-z-_]+)\/aws4_request, SignedHeaders=(([a-z-]+;)*[a-z-]+), Signature=([0-9a-f]+)$/,{algorithm:1,accessKeyId:2,scopeYear:3,scopeMonth:4,scopeDay:5,region:6,service:7,signedHeaders:8,signature:10}),ac=function(a){var b=a.match(ab);if(!(null!=b&&b.groups))return{parseableAuthorization:null,wasParseable:!1};var c=b.groups,d=c.algorithm,e=c.accessKeyId,f=c.scopeYear,g=c.scopeMonth,h=c.scopeDay,i=c.region,j=c.service,k=c.signedHeaders,l=c.signature;return{wasParseable:!0,parseableAuthorization:{algorithm:d,accessKeyId:e,scopeDate:""+f+g+h,region:i,service:j,signedHeaders:k.split(";"),signature:l}}},ad=function(a){var b=a.resourceId,c=a.region,d=a.service,e=a.accountId;return"arn:csc:"+d+":"+c+":"+e+":"+b},ae=function(a){return a},af=function(a){return function(){return a}},ag=function(a){return function(b){return a(b)}},ah=function(a){return function(b){return b(a)}},ai=function(a){return function(b){return function(c){return a(b(c))(c)}}},aj=function(a){return function(b){var c;return c=C(z().mark(function c(d){return z().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=a,c.next=3,b(d);case 3:return c.t1=c.sent,c.t2=(0,c.t0)(c.t1),c.abrupt("return",(0,c.t2)(d));case 6:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}}},ak=function(a){return function(b){return function(c){return a(b(c))}}},al=function(a){return function(b){return function(c){return function(d){return a(b(c)(d))}}}},am=function(a){return function(b){return function(c){return function(d){return function(e){return a(b(c)(d)(e))}}}}},an=function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return a(b(c)(d)(e)(f))}}}}}},ao=function(a){return function(b){return a(b)(b)}},ap=function(a){return function(b){return function(c){return a(c)(b)}}},aq=function(a){return function(b){return function(c){return a(c)(b(c))}}},ar=function(a){return function(b){var c;return c=C(z().mark(function c(d){return z().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=a(d),c.next=3,b(d);case 3:return c.t1=c.sent,c.abrupt("return",(0,c.t0)(c.t1));case 5:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}}},as=function(a){return function(b){return function(c){return function(d){return a(b(d))(c(d))}}}},at=function(a){return function(b){return function(c){var d;return d=C(z().mark(function d(e){return z().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=a,d.next=3,b(e);case 3:return d.t1=d.sent,d.t2=(0,d.t0)(d.t1),d.next=7,c(e);case 7:return d.t3=d.sent,d.abrupt("return",(0,d.t2)(d.t3));case 9:case"end":return d.stop()}},d)})),function(a){return d.apply(this,arguments)}}}},au=function(a){return function(b){return function(c){var d;return d=C(z().mark(function d(e){return z().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=a,d.next=3,b(e);case 3:return d.t1=d.sent,d.t2=(0,d.t0)(d.t1),d.abrupt("return",(0,d.t2)(c(e)));case 6:case"end":return d.stop()}},d)})),function(a){return d.apply(this,arguments)}}}},av=function(a){return function(b){return function(c){var d;return d=C(z().mark(function d(e){return z().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=a(b(e)),d.next=3,c(e);case 3:return d.t1=d.sent,d.abrupt("return",(0,d.t0)(d.t1));case 5:case"end":return d.stop()}},d)})),function(a){return d.apply(this,arguments)}}}},aw=function(a){return function(b){return function(c){return function(d){return a(b(c))(b(d))}}}},ax=function(a){return function(b){return function(c){var d;return d=C(z().mark(function d(e){return z().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=a,d.next=3,b(c);case 3:return d.t1=d.sent,d.t2=(0,d.t0)(d.t1),d.next=7,b(e);case 7:return d.t3=d.sent,d.abrupt("return",(0,d.t2)(d.t3));case 9:case"end":return d.stop()}},d)})),function(a){return d.apply(this,arguments)}}}},ay=function(a){return function(b){return a(function(a){return b(b)(a)})}(function(b){return a(function(a){return b(b)(a)})})},az=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return G(a,c)}},aA=function(a){return function(b){return function(c){return a(b,c)}}},aB=function(a){return function(b){return function(c){return function(d){return a(b,c,d)}}}},aC=function(a){return function(b){return function(c){return function(d){return function(e){return a(b,c,d,e)}}}}},aD=function(a){return function(b){var c;return c=C(z().mark(function c(d){return z().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=a,c.next=3,b(d);case 3:return c.t1=c.sent,c.abrupt("return",(0,c.t0)(c.t1));case 5:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}}},aE=function(a){return function(b){return function(c){try{return a(c)}catch(d){return b(d)}}}},aF=function(a){return function(b){var c;return c=C(z().mark(function c(d){return z().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,a(d);case 3:return c.abrupt("return",c.sent);case 6:return c.prev=6,c.t0=c.catch(0),c.abrupt("return",b(c.t0));case 9:case"end":return c.stop()}},c,null,[[0,6]])})),function(a){return c.apply(this,arguments)}}},aG=function(a){return function(b){return function(c){try{return a(c)}catch(d){throw b(d),d}}}},aH=function(a){return function(b){return function(c){return function(d){return a(d)?b(d):c(d)}}}},aI=function(a){return function(b){return function(c){try{return a(c)}catch(d){return b(c)}}}},aJ=function(a){return function(b,c){return a(b)(c)}},aK=function(a){return function(b,c,d){return a(b)(c)(d)}},aL=function(a){return function(b,c,d,e){return a(b)(c)(d)(e)}},aM=function(a){return function(b){return D({},a,b)}},aN=function(a){return function(b){return a(b),b}},aO=function(a){return function(b){return a.reduceRight(function(a,b){var c=b[0],d=b[1];return aH(c)(d)(a)},b)}},aP=function(a){return function(b){return b.reduce(function(b,c){var d=b[0],e=b[1];return a(c)?[[].concat(d,[c]),e]:[d,[].concat(e,[c])]},[[],[]])}},aQ=function(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||null==a},aR=function(a){return aQ(a)?a:JSON.stringify(a)},aS=function(a){return function(b){return(0,l.Z)(b,a)}},aT=function(a){return function(b){return a||b}},aU=function(a){return function(b){return null!=a?a:b}},aV=function(a){return function(b){return a&&b}},aW=function(a){return function(b){return a===b}},aX=function(a){return!a},aY=ak(aX),aZ=function(a){return function(b){return b<a}},a$=function(a){return function(b){return b>a}},a_=function(a){return function(b){return b<=a}},a0=function(a){return function(b){return b>=a}},a1=function(a){return function(b){return null!=b?b:a}},a2=function(a){return function(b){return function(c){var d;return null!=(d=b(c))?d:a}}},a3=function(a){return function(b){return b[a]}},a4=function(a){return function(b){return b[a]}},a5=function(a){return function(b){var c;return(c={})[a]=b,c}},a6=function(a){return function(b){return function(c){return c.reduce(aJ(a),b)}}},a7=function(a){return function(b){return[].concat(a,b)}},a8=function(a){return function(b){return a+b}},a9=function(a){return function(b){return b.map(a)}},ba=function(a){return function(b){return b.filter(a)}},bb=function(a){return function(b){return b.split(a)}},bc=function(a){return function(b){return b.join(a)}},bd=function(a){return function(b){return a6(function(b){return function(c){var d;return D({},b,((d={})[a(c)]=c,d))}})({})(b)}},be=function(a){return function(b){return a6(function(b){return function(c){var d=a(c),e=a3(d)(b),f=a7(a1([])(e))(by(c));return aM(b)(a5(d)(f))}})({})(b)}},bf=function(a){return function(b){var c=bd(ae)(a);return a6(function(a){var d=a[0],e=a[1];return function(a){var f=bi(b)(a);return c[a]?[aM(d)(a5(a)(f)),e]:[d,aM(e)(a5(a)(f))]}})([{},{}])(a)}},bg=function(a){return function(b){return bf(a)(b)[0]}},bh=function(a){return function(b){return bf(a)(b)[1]}},bi=function(a){return function(b){return a[b]}},bj=function(a){return function(b){return function(c){return c.slice(a,b)}}},bk=function(a){return function(b){return[].concat(b,[a])}},bl=function(a){return a.length},bm=function(a){return function(b){return b-a}},bn=function(a){return function(b){return b+a}},bo=function(a){return function(b){return b/a}},bp=function(a){return function(b){return b*a}},bq=function(a){return function(b){return b%a}},br=function(a){return~a},bs=function(a){return function(b){return b&a}},bt=function(a){return function(b){return b|a}},bu=function(a){return function(b){return b^a}},bv=function(a){return function(b){return b<<a}},bw=function(a){return function(b){return b>>a}},bx=function(a){return function(b){return b>>>a}},by=function(a){return[a]},bz=function(a){return function(b){return[a(b)]}},bA=function(a){return function(b){return function(c){return[a(c),b(c)]}}},bB=function(a){return function(b){return function(c){return function(d){return[a(d),b(d),c(d)]}}}},bC=function(a){return function(b){return function(c){return function(d){return function(e){return[a(e),b(e),c(e),d(e)]}}}}},bD=function(a){return function(b){return a(b[0])}},bE=function(a){return function(b){return a(b[0])(b[1])}},bF=function(a){return function(b){return a(b[0])(b[1])(b[2])}},bG=function(a){return function(b){return a(b[0])(b[1])(b[2])(b[3])}},bH=ak(bm(1))(bl),bI=function(a){return[ai(a4)(bH)(a),ai(bj(0))(bH)(a)]},bJ=function(a){return[a4(0)(a),ai(bj(1))(bl)(a)]},bK=function(a){return function(b){return function(c){var d=a(c),e=b(c);if("failure"===d.type)return d;if("failure"===e.type)return e;var f=D({},d.value,e.value),g=[].concat(d.warnings,e.warnings);return{type:"success",value:f,warnings:g}}}},bL={apply:ag,branch:aH,caught:aE,chain:ai,thenChain:aj,compose:ak,compose2ary:al,compose3ary:am,compose4ary:an,constant:af,construct:az,converge:as,thenConvergeBoth:at,thenConvergeLeft:au,thenConvergeRight:av,curry:aA,curry3:aB,curry4:aC,duplication:ao,fallback:aI,fixed:ay,flip:ap,identity:ae,merge:aM,psi:aw,thenPsi:ax,sideEffect:aN,substitution:aq,thenSubstitution:ar,thenCaught:aF,thenCompose:aD,thrown:aG,thrush:ah,uncurry:aJ,uncurry3:aK,uncurry4:aL,siftedTree:aO,sifter:aP,isLiteral:aQ,toLiteral:aR,instanceOf:aS,get:a3,wrap:a5,reduce:a6,aConcat:a7,sConcat:a8,map:a9,filter:ba,elem:a4,split:bb,join:bc,pick:bg,access:bi,slice:bj,push:bk,length:bl,subtract:bm,add:bn,divide:bo,multiply:bp,modulo:bq,lastIndex:bH,pop:bI,shift:bJ,unshift:function(a){return function(b){return[a].concat(b)}},couple:bA,triple:bB,quadruple:bC,fnSpread:bD,fnSpread2ary:bE,fnSpread3ary:bF,fnSpread4ary:bG,builder:function(){return function(a){return function(b){for(var c={},d=Object.keys(a),e=0;e<d.length;e+=1){var f=d[e],g=a[f];c[f]="function"!=typeof g?g:g(b)}return c}}},or:aT,and:aV,not:aY,defaultedWith:a1,nullish:aU,bang:aX,withDefault:a2,indexBy:bd,groupBy:be,pickAndOmit:bf,singleton:bz,liftToArray:by,omit:bh,intersect:bK,bitwiseNot:br,bitwiseAnd:bs,bitwiseOr:bt,bitwiseXor:bu,bitwiseLeftShift:bv,bitwiseRightShift:bw,bitwiseUnsignedRightShift:bx,eq:aW,lt:aZ,gt:a$,lte:a_,gte:a0};(Q=d||(d={})).AuthorizationPrecheck="AuthorizationPrecheck",Q.ResponseDispatched="ResponseDispatched",Q.RequestingData="RequestingData",Q.ProcessingData="ProcessingData",Q.UserInputError="UserInputError",Q.ServerRuntimeError="ServerRuntimeError",Q.SuccessfulRequestFulfillment="SuccessfulRequestFulfillment",Q.RequestReceived="RequestReceived",(R=e||(e={})).FATAL="FATAL",R.ERROR="ERROR",R.WARN="WARN",R.INFO="INFO",R.DEBUG="DEBUG";var bM,bN=[e.FATAL,e.ERROR,e.WARN,e.INFO],bO=function(a){x.env.ALLOW_DEBUG_EVENTS,bN.includes(a.level)&&console.log("%j",{logEvent:a})},bP=function(a){return function(b){return function(c){return function(d){var e;return bO({level:a,name:b,type:c,contextMap:"object"==typeof(e=d)&&null!==e?Object.entries(e).reduce(function(a,b){var c,d=b[0],e=b[1];return D({},a,((c={})[d]=aR(e),c))},{}):{context:JSON.stringify(e)}})}}}},bQ=bP(e.INFO),bR=bP(e.DEBUG),bS=bP(e.ERROR),bT=bP(e.WARN),bU=bP(e.FATAL),bV=function(a,b){var c=a.host,d=a.method,e=a.path,f=a.body,g=a.service,h=a.region,i=a.headers,j=b.accessKeyId,k=b.secretAccessKey,l=b.sessionToken;return new r.RequestSigner({host:c,method:d,path:e,body:f,service:g,region:h,headers:i},{accessKeyId:j,secretAccessKey:k,sessionToken:l})},bW={"Cache-Control":"no-cache","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type, X-Iam-Authorization, X-Amz-Security-Token, X-Amz-Date","Access-Control-Allow-Methods":"DELETE, GET, HEAD, OPTIONS, POST, PUT","Access-Control-Max-Age":"300"},bX=function(a,b){var c,f=a.iamProtocol,g=void 0===f?"https":f,h=a.iamHost,i=void 0===h?"api.csciam.com":h,j=a.iamPath,k=void 0===j?"/requests/validity":j,l=a.host,m=a.region,n=a.service,o=a.action,r=a.getResourceIdFromEvent,s=a.getConditionKeysFromEvent,t=a.allowReplays,u=a.bubbleErrors,v=a.bodyAssertion;return c=C(z().mark(function a(c,f,h){var j,w,x,A,B,C,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ae,af,ag,ah,ai,aj,ak,al,am,an;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j=void 0,"function"!=typeof v){a.next=9;break}a.prev=2,j=v(JSON.parse(c.body||"")),a.next=9;break;case 6:return a.prev=6,a.t0=a.catch(2),a.abrupt("return",{statusCode:400,headers:bW,body:JSON.stringify({code:"InvalidRequest",message:"The request body was invalidly formatted.",statusCode:400,resource:r(c)})});case 9:for(L in w=g+"://"+i+k,x={},A="function"==typeof s?s(c):{},B=y.from(JSON.stringify(A)).toString("base64"),E=(C=c.requestContext.identity).userAgent,F=C.sourceIp,G=E?y.from(E).toString("base64"):"",H=c.httpMethod,I=c.path,J=c.body,K=c.queryStringParameters,c.headers)x[L.toLowerCase()]=c.headers[L]||"";if(x["content-length"]||"string"!=typeof J||(x["content-length"]=y.from(J).length.toString()),x.host=l,M=x["x-amz-date"],N=x["x-amz-security-token"],O=x["x-iam-authorization"],P=void 0===O?"":O,Q=K?I+"?"+q.stringify(K):I,bO({level:e.DEBUG,type:d.AuthorizationPrecheck,name:"AuthorizationPrecheck.Parameters.Debug",context:[{key:"region",value:m},{key:"service",value:n},{key:"action",value:o},{key:"requestValidityCheckEndpoint",value:w},{key:"authorization",value:P},{key:"requestDateTime",value:M},{key:"sessionToken",value:N},{key:"lowercaseHeaders",value:JSON.stringify(x)}]}),R=r(c),S={statusCode:403,headers:bW,body:JSON.stringify({code:"InvalidClientToken",message:"The supplied signature or session token was invalid.",statusCode:403,resource:R})},T={statusCode:500,headers:bW,body:JSON.stringify({code:"UnknownServerError",message:"An unknown server error occurred.",statusCode:500,resource:R})},U=ac(P),U.wasParseable){a.next=28;break}return a.abrupt("return",S);case 28:return V=U.parseableAuthorization.signedHeaders,W={},V.forEach(function(a){return W[a]=x[a]}),bO({level:e.DEBUG,type:d.AuthorizationPrecheck,name:"AuthorizationPrecheck.Headers.Debug",context:[{key:"signedHeaders",value:JSON.stringify(V)},{key:"signedHeadersHash",value:JSON.stringify(W)}]}),X=y.from(bV({method:H,host:l,path:Q,headers:W,body:J||"",region:m,service:n},{accessKeyId:"",secretAccessKey:"",sessionToken:""}).canonicalString()).toString("base64"),Y=y.from(P).toString("base64"),Z={canonicalRequestStringBase64:X,authorizationStringBase64:Y,requestDateTime:M,resourceId:R,action:o,region:m,service:n,sessionToken:N,serviceConditionKeysBase64:B,endCallerIp:F,endCallerUserAgentBase64:G,allowReplays:String(t)},bO({level:e.DEBUG,type:d.AuthorizationPrecheck,name:"AuthorizationPrecheck.Canonicalized.Debug",context:[{key:"region",value:m},{key:"service",value:n},{key:"action",value:o},{key:"canonicalRequestStringBase64",value:X},{key:"authorization",value:P},{key:"requestDateTime",value:M},{key:"sessionToken",value:N},{key:"resourceId",value:R}]}),a.prev=36,a.next=39,p().get(w,{params:Z});case 39:if(aa=(_=($=a.sent).data).hasRequiredFields,ab=_.wellFormedAuthorization,ae=_.validClientToken,af=_.accountId,ag=_.decision,ah=_.decisionReason,ai=_.identityType,aj=_.identityKey,bO({level:e.INFO,type:d.AuthorizationPrecheck,name:"AuthorizationPrecheck.Decision",context:[{key:"requestDateTime",value:M},{key:"sessionToken",value:N},{key:"resourceId",value:R},{key:"region",value:m},{key:"service",value:n},{key:"action",value:o},{key:"hasRequiredFields",value:aa},{key:"wellFormedAuthorization",value:ab},{key:"validClientToken",value:ae},{key:"accountId",value:af},{key:"decision",value:ag},{key:"decisionReason",value:ah},{key:"identityKey",value:aj},{key:"identityType",value:ai}]}),!(!aa||!ab||!ae)){a.next=52;break}return a.abrupt("return",{statusCode:403,headers:bW,body:JSON.stringify({code:"InvalidClientToken",message:"The supplied signature or session token was invalid.",statusCode:403,resource:R})});case 52:if(ak=ad({resourceId:R,region:m,service:n,accountId:af}),al=ad({resourceId:ai+"/"+aj,region:"global",service:"iam",accountId:af}),!("Allow"!==ag)){a.next=56;break}return a.abrupt("return",{statusCode:403,headers:bW,body:JSON.stringify({code:"Forbidden",message:ai+" "+al+" is not allowed to perform action "+n+":"+o+" on resource "+R+", because: "+ah+".",statusCode:403,resource:ak})});case 56:return am=D({},c,{iamInformation:{accountId:af,identityType:ai,identityKey:aj,callerIdentityArn:al,resource:ak,conditionKeys:A},parsedBody:j}),a.next=59,b(am,f,h);case 59:return(an=a.sent)||bO({level:e.ERROR,type:d.ResponseDispatched,name:"AuthorizationPrecheck.ResponseReturnedVoid",context:[]}),a.abrupt("return",an||T);case 64:if(a.prev=64,a.t1=a.catch(36),bO({level:e.ERROR,type:d.ResponseDispatched,name:"AuthorizationPrecheck.ResponseReturnedUnhandledError",context:[{key:"unhandledErrorName",value:(null==a.t1?void 0:a.t1.name)||""},{key:"unhandledErrorMessage",value:(null==a.t1?void 0:a.t1.message)||""}]}),!u){a.next=69;break}throw a.t1;case 69:return a.abrupt("return",T);case 70:case"end":return a.stop()}},a,null,[[2,6],[36,64]])})),function(a,b,d){return c.apply(this,arguments)}},bY=function(a){var b=a.iamProtocol,c=void 0===b?"https":b,d=a.iamHost,e=void 0===d?"api.csciam.com":d,f=a.iamPath,g=void 0===f?"/requests/validity":f,h=a.host,i=a.region,j=void 0===i?"global":i,k=a.service;return function(a){var b=a.action,d=a.getResourceIdFromEvent,f=a.getConditionKeysFromEvent,i=a.allowReplays,l=a.bodyAssertion;return aA(bX)({iamProtocol:c,iamHost:e,iamPath:g,host:h,region:j,service:k,action:b,getResourceIdFromEvent:d,getConditionKeysFromEvent:void 0===f?function(){return{}}:f,allowReplays:void 0!==i&&i,bubbleErrors:!0,bodyAssertion:l})}},bZ={"Content-Type":"application/json","Cache-Control":"no-cache","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"DELETE, GET, OPTIONS, POST, PUT","Access-Control-Allow-Headers":"Content-Type, X-Iam-Authorization, X-Amz-Security-Token, X-Amz-Date","Access-Control-Max-Age":"300"},b$=function(a){return function(b){return void 0===b&&(b=""),{statusCode:a,headers:bZ,body:"string"==typeof b?b:JSON.stringify(b)}}},b_=b$(201),b0=af(b$(409)({code:"ResourceAlreadyExists",message:"Resource already exists.",statusCode:409})),b1=af(b$(500)({code:"InternalServerError",message:"Internal server error.",statusCode:500})),b2=function(a){return{log:bQ(a),warn:bT(a),debug:bR(a),error:bS(a),fatal:bU(a)}},b3={ProtectLambdaProxyHandler:bX,Log:bO,LogLevel:e,LogType:d,ParseAuthorization:ac,log:bQ,warn:bT,debug:bR,error:bS,fatal:bU,serviceProtector:bY,response:b$,basicUncachedCorsJsonApiHeaders:bZ,respondCreated:b_,respondStaticConflict:b0,respondStaticServerError:b1,logger:b2};(bM=f||(f={})).DELETE="DELETE",bM.GET="GET",bM.HEAD="HEAD",bM.PATCH="PATCH",bM.POST="POST",bM.PUT="PUT";var b4,b5=[f.DELETE,f.HEAD,f.GET],b6=function(a){var b=a.method,c=a.body;return void 0===c||b5.includes(b)?{}:{"content-type":"application/json","accept-encoding":"gzip, deflate, br"}},b7=function(a){var b=a.argHash,c=a.receives,d=a.composePath,e=a.composeBody,f=a.composeParams,g=a.doNotAddEntropy;"function"==typeof c?(0,n.assertion)(c)(b):c.check(b);var h=d(b),i="function"==typeof e?e(b):null,j=i?JSON.stringify(i):void 0,k=f?f(b):{},l=Object.keys(k).reduce(function(a,b){return"string"==typeof k[b]?a+"&"+b+"="+encodeURIComponent(k[b]||""):a},void 0!==g&&g?"":"_entropy_="+Math.round(1e9*Math.random()));return{body:j,path:l.length?h+"?"+l:h}},b8=function(a){var b=a.host;return function(a){var c,d=a.receives,e=a.method,f=a.composePath,g=a.composeParams,h=a.composeBody,i=a.returns;return c=C(z().mark(function a(c){var j,k,l,m;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return k=(j=b7({argHash:c,receives:d,composePath:f,composeParams:g,composeBody:h,returns:i,method:e})).path,l=j.body,a.next=3,p()({method:e,headers:b6({method:e,body:l}),url:"https://"+b+k,data:l});case 3:if(m=a.sent,void 0!==i){a.next=6;break}return a.abrupt("return",void 0);case 6:return a.abrupt("return","function"==typeof i?(0,n.assertion)(i)(m.data):i.check(m.data));case 7:case"end":return a.stop()}},a)})),function(a){return c.apply(this,arguments)}}},b9=function(a){var b=a.host,c=a.credentials,d=a.region,e=a.service,f=null;return function(a){var g,h=a.receives,i=a.method,j=a.composePath,k=a.composeParams,m=a.composeBody,o=a.returns;return g=C(z().mark(function a(g){var q,r,s,t,u,v,w,x,y,A,B;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=(q=b7({argHash:g,receives:h,composePath:j,composeBody:m,composeParams:k,returns:o,method:i})).path,s=q.body,a.next=3,c||aa.CSC();case 3:if(f=a.sent){a.next=6;break}throw Error("Signed call attempted without credentials");case 6:if(u=(t=f).accessKeyId,v=t.secretAccessKey,w=t.sessionToken,x=t.expires,y=t.refreshFunctor,!("number"==typeof x&&1e3*x<Date.now()&&"function"==typeof y)){a.next=13;break}return a.next=10,y();case 10:a.t0=a.sent,a.next=14;break;case 13:a.t0=f;case 14:if(f=a.t0){a.next=17;break}throw Error("Signed call attempted without credentials, failed to refresh.");case 17:return(A=bV({method:i,host:b,path:r,service:e,region:d,headers:b6({method:i,body:s}),body:s},{accessKeyId:u,secretAccessKey:v,sessionToken:w}).sign()).headers&&(A.headers["x-iam-authorization"]=A.headers.Authorization,delete A.headers.Authorization),a.next=21,p()({method:A.method,headers:A.headers,url:"https://"+A.host+A.path,data:s,decompress:!0,responseType:"json"});case 21:if(B=a.sent,void 0!==o){a.next=24;break}return a.abrupt("return",void 0);case 24:return a.prev=24,a.abrupt("return","function"==typeof o?(0,n.assertion)(o)(B.data):o.check(B.data));case 28:throw a.prev=28,a.t1=a.catch(24),(0,l.Z)(a.t1,Error)&&(console.error("Failed to parse response from "+A.method+" "+A.path+": "+a.t1.message),console.error(B.data)),a.t1;case 32:case"end":return a.stop()}},a,null,[[24,28]])})),function(a){return g.apply(this,arguments)}}},ca=function(a){return"string"==typeof a},cb=aH(ca)(JSON.parse)(ae),cc=function(a){var b=a.receives,c=a.create,d=a.update,e=a.delete,f=a.get,g=a.mapToAttrs,h=a.ignore409;return function(a){var i;return i=C(z().mark(function i(j){var k,l,m,o;return z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:l=(k=(0,n.assertion)(b))(cb(j.ResourceProperties.ResourceProperties)),i.t0=j.RequestType,i.next="Create"===i.t0?5:"Update"===i.t0?11:"Delete"===i.t0?17:20;break;case 5:return i.next=7,c(a)(l);case 7:return i.next=9,f(a)(l);case 9:return m=i.sent,i.abrupt("return",g(m));case 11:return i.next=13,d(a)(l);case 13:return i.next=15,f(a)(l);case 15:return o=i.sent,i.abrupt("return",g(o));case 17:return i.next=19,e(a)(l);case 19:return i.abrupt("return",i.sent);case 20:return i.abrupt("return",h);case 21:case"end":return i.stop()}},i)})),function(a){return i.apply(this,arguments)}}},cd={oneOf:[{type:"array",description:"Array of strings.",items:{type:"string"}},{type:"string",description:"String value."}]},ce={type:"string",description:"The name of the user."},cf={type:"string",description:"The name of the policy."},cg={type:"string",description:"The name of the role."},ch={type:"string",description:"The name of the group."},ci={type:"string",description:"The access key ID."},cj={type:"string",description:"The secret access key."},ck={type:"string",description:"The CSC IAM account ID."},cl={type:"string",description:"The session token."},cm={type:"string",description:"The name of the JWT IDP."},cn={type:"string",description:"A minted JWT."},co={type:"string",description:"The JWT IDP shared secret."},cp={type:"string",description:"The pagination token to fetch the next page."},cq={type:"string",description:"A note about the policy statement."},cr={type:"string",description:"Use Allow or Deny to indicate whether the policy allows or denies access.",enum:Object.values({Allow:"Allow",Deny:"Deny"})},cs={type:"string",description:"An action that the policy allows or denies. Accepts wildcards."},ct={description:"Specify the action(s) that the policy allows or denies. Accepts wildcards.",oneOf:[cs,{type:"array",items:cs}]},cu={type:"string",description:"A resource that the policy applies to. Accepts wildcards."},cv={description:"Specify the resource(s) that the policy applies to. Accepts wildcards.",oneOf:[cu,{type:"array",items:cu}]},cw={type:"object",description:"Specify the circumstances under which the policy grants permission. Outermost keys are operators supported by CSC IAM, innermost keys are condition keys defined by the service for which the condition is being crafted.",required:[],additionalProperties:{type:"object",description:"Condition keys defined by the service.",additionalProperties:cd}},cx={type:"object",description:"An IAM policy statement.",required:["Effect","Action","Resource"],additionalProperties:!1,properties:{Note:cq,Effect:cr,Action:ct,NotAction:ct,Resource:cv,NotResource:cv,Condition:cw}},cy={type:"object",description:"An IAM policy.",required:["policyName","accountId","users","groups","roles","statements"],additionalProperties:!1,properties:{policyName:cf,accountId:ck,users:{type:"array",description:"A list of user names.",uniqueItems:!0,items:{type:"string"}},groups:{type:"array",description:"A list of group names.",uniqueItems:!0,items:{type:"string"}},roles:{type:"array",description:"A list of role names.",uniqueItems:!0,items:{type:"string"}},statements:{type:"array",description:"A list of policy statements.",items:cx}}},cz={type:"object",description:"An IAM group.",required:["groupName","accountId","policies","users"],additionalProperties:!1,properties:{groupName:ch,accountId:ck,policies:{type:"array",description:"A list of policy names.",uniqueItems:!0,items:{type:"string"}},users:{type:"array",description:"A list of user names.",uniqueItems:!0,items:{type:"string"}}}},cA={type:"object",description:"A CSC IAM credentials object.",required:["accessKeyId","secretAccessKey"],additionalProperties:!1,properties:{accessKeyId:ci,secretAccessKey:cj,sessionToken:cl}},cB={type:"object",description:"An IAM session.",required:["identityKey","identityType","accountId","identityArn","sessionToken","accessKeyId","secretAccessKey","expires","identitySourceType","identitySourceId"],additionalProperties:!1,properties:{identityKey:{type:"string",description:"The CSC IAM identity key."},identityType:{type:"string",description:"The identity type.",enum:Object.values({User:"user",Role:"role"})},accountId:ck,identityArn:{type:"string",description:"The ARN of the resource."},sessionToken:cl,accessKeyId:ci,secretAccessKey:cj,expires:{type:"number",description:"The expiration time of the session. Represented as UNIX timestamp."},identitySourceType:{type:"string",description:"The identity source type.",enum:Object.values({CSC:"CSC",AWS:"AWS",JWT:"JWT"})},identitySourceId:{type:"string",description:"The CSC IAM identity source ID."},tokenIssueTime:{type:"string",description:"The token issue date and time."},policyStatements:{type:"array",description:"A list of policy statements.",items:cx}}},cC={type:"object",description:"Specify the principal, can be any of CSC, AWS or JWT.",properties:{CSC:cd,AWS:cd,JWT:cd}},cD={type:"object",description:"An IAM trust policy statement.",required:["Effect","Action"],additionalProperties:!1,properties:{Note:cq,Effect:cr,Action:ct,NotAction:ct,Principal:cC,NotPrincipal:cC,Condition:cw}},cE={type:"object",description:"An IAM role.",required:["roleName","accountId","policies","assumeRolePolicyStatements"],additionalProperties:!1,properties:{roleName:cg,accountId:ck,policies:{type:"array",description:"A list of policy names.",uniqueItems:!0,items:{type:"string"}},assumeRolePolicyStatements:{type:"array",description:"A list of trust policy statements.",items:cD}}},cF={type:"object",description:"An IAM user.",required:["userName","accountId","policies","groups","hasLoginProfile","keys"],additionalProperties:!1,properties:{userName:ce,accountId:ck,policies:{type:"array",uniqueItems:!0,description:"A list of policy names.",items:{type:"string"}},groups:{type:"array",description:"A list of group names.",items:{type:"string"}},hasLoginProfile:{type:"boolean",description:"Whether the user has a login profile."},keys:{type:"array",description:"A list of permanent access keys generated for the user.",items:{type:"string"}}}},cG={type:"object",description:"JWT IDP settings.",required:["aud","type","pool","getId"],additionalProperties:!1,properties:{aud:{type:"string",description:"The audience."},type:{type:"string",description:"The type."},pool:{type:"string",description:"The pool."},getId:{type:"array",description:"A path to the subkey with the unique ID within the pool.",items:{type:"string"}},isAnonymousVendor:{type:"boolean",description:"Whether this is an anonymous vendor."}}},cH={type:"object",description:"A JWT IDP.",required:["settings","accountId","jwtIdpName"],additionalProperties:!1,properties:{settings:cG,accountId:ck,jwtIdpName:cm}},cI={userPolicy:{type:"object",description:"An IAM user-policy attachment.",required:["userName","policyName"],additionalProperties:!1,properties:{userName:ce,policyName:cf}},groupPolicy:{type:"object",description:"An IAM group-policy attachment.",required:["groupName","policyName"],additionalProperties:!1,properties:{groupName:ch,policyName:cf}},rolePolicy:{type:"object",description:"An IAM role-policy attachment.",required:["roleName","policyName"],additionalProperties:!1,properties:{roleName:cg,policyName:cf}},userGroup:{type:"object",description:"An IAM user-group attachment.",required:["userName","groupName"],additionalProperties:!1,properties:{userName:ce,groupName:ch}},writtenResponse:{type:"object",description:"Whether the operation was written to the backend.",additionalProperties:!1,required:["written"],properties:{written:{type:"boolean"}}},listOperationParameters:{type:"object",description:"Parameters for a resource list operation.",additionalProperties:!1,properties:{limit:{type:"number",description:"The maximum number of resources to return in a page."},paginationToken:cp,previousPage:{type:"boolean",description:"Whether to fetch the previous page."}}},policyDefinition:{type:"object",description:"A policy definition.",required:["policyName","statements"],additionalProperties:!1,properties:{policyName:cf,statements:{type:"array",description:"A list of policy statements.",items:cx}}},listPoliciesResponse:{type:"object",description:"list policies response",required:["policies"],additionalProperties:!1,properties:{policies:{type:"array",description:"A list of policy names.",items:cy},paginationToken:cp}},policy:cy,policyKey:{type:"object",description:"A policy key.",required:["policyName"],additionalProperties:!1,properties:{policyName:cf}},groupKey:{type:"object",description:"A group key.",required:["groupName"],additionalProperties:!1,properties:{groupName:ch}},group:cz,listGroupsResponse:{type:"object",description:"list groups response",required:["groups"],additionalProperties:!1,properties:{groups:{type:"array",description:"A list of groups.",items:cz},paginationToken:cp}},roleKey:{type:"object",description:"A role key.",required:["roleName"],additionalProperties:!1,properties:{roleName:cg}},role:cE,roleDefinition:{type:"object",description:"A role definition.",required:["roleName","assumeRolePolicyStatements"],additionalProperties:!1,properties:{roleName:cg,assumeRolePolicyStatements:{type:"array",description:"A list of trust policy statements.",items:cD}}},listRolesResponse:{type:"object",description:"list roles response",required:["roles"],additionalProperties:!1,properties:{roles:{type:"array",description:"A list of roles names.",items:cE},paginationToken:cp}},userKey:{type:"object",description:"A user key.",required:["userName"],additionalProperties:!1,properties:{userName:ce}},user:cF,listUsersResponse:{type:"object",description:"list users response",required:["users"],additionalProperties:!1,properties:{users:{type:"array",description:"A list of user names.",items:cF},paginationToken:cp}},accessKey:{type:"object",description:"An IAM permanent access key.",required:["userName","accessKeyId","accountId","secretAccessKey"],additionalProperties:!1,properties:{userName:ce,accountId:ck,accessKeyId:ci,secretAccessKey:cj}},accessKeyKey:{type:"object",description:"Identifies and access key for a user.",required:["userName","accessKeyId"],additionalProperties:!1,properties:{userName:ce,accessKeyId:ci}},loginCredentialsDefinition:{type:"object",description:"An IAM login credentials definition.",required:["userName","password"],additionalProperties:!1,properties:{userName:ce,password:{type:"string",description:"The user profile password."},requiresReset:{type:"boolean",description:"Whether the password requires a reset."}}},login:{type:"object",description:"An IAM login request.",required:["accountId","userName","password"],additionalProperties:!1,properties:{accountId:ck,userName:ce,password:{type:"string",description:"The password."},expiresIn:{type:"number",description:"Number of seconds until the session expires. Maximum 86400 (24 hours)."},policyStatements:{type:"array",description:"A list of policy statements.",items:cx},newPassword:{type:"string",description:"The new password (if password reset is required)."}}},aliasKey:{type:"object",description:"An account alias key.",required:["alias"],additionalProperties:!1,properties:{alias:{type:"string",description:"The account alias."}}},accountAlias:{type:"object",description:"An IAM account alias.",required:["accountId","alias"],additionalProperties:!1,properties:{accountId:ck,alias:{type:"string",description:"The CSC IAM account alias"}}},assumeRoleBase:{type:"object",description:"Assume role",required:["roleName","accountId"],additionalProperties:!1,properties:{roleName:cg,accountId:ck,policyStatements:{type:"array",description:"A list of policy statements.",items:cx}}},assumeRoleWithAwsRequest:{oneOf:[{type:"object",description:"Assume role with AWS STS call assertions.",required:["roleName","accountId","awsStsCallAssertions"],additionalProperties:!1,properties:{roleName:cg,accountId:ck,awsStsCallAssertions:{type:"object",description:"An AWS STS call.",required:["authorization","contentLength","xAmzDate"],additionalProperties:!1,properties:{authorization:{type:"string",description:"The authorization header."},contentLength:{description:"The content length.",oneOf:[{type:"string"},{type:"number"}]},xAmzDate:{type:"string",description:"The x-amz-date header."},xAmzSecurityToken:{type:"string",description:"The x-amz-security-token header."}}}}},{type:"object",description:"Assume role with credentials.",required:["roleName","accountId","credentials"],additionalProperties:!1,properties:{roleName:cg,accountId:ck,credentials:cA}}]},assumeRoleWithJwtRequest:{type:"object",description:"Assume role with JWT.",required:["roleName","accountId","jwtIdpName","jwt"],additionalProperties:!1,properties:{roleName:cg,accountId:ck,jwtIdpName:cm,jwt:cn,policyStatements:{type:"array",description:"A list of policy statements.",items:cx}}},session:cB,credentials:cA,createJwtIdpRequest:{type:"object",description:"Create JWT IDP request",required:["settings","jwtIdpName","sharedSecret"],additionalProperties:!1,properties:{settings:cG,jwtIdpName:cm,sharedSecret:co}},getAnonymousTokenRequest:{type:"object",description:"Get anonymous token request",required:["accountId","jwtIdpName"],additionalProperties:!1,properties:{accountId:ck,jwtIdpName:cm}},updateJwtIdpSecretRequest:{type:"object",description:"Update JWT secret request",required:["jwtIdpName","sharedSecret"],additionalProperties:!1,properties:{jwtIdpName:cm,sharedSecret:co}},updateJwtIdpSettingsRequest:{type:"object",description:"Update JWT IDP settings request",required:["jwtIdpName","settings"],additionalProperties:!1,properties:{jwtIdpName:cm,settings:cG}},listJwtIdpsResponse:{type:"object",description:"list JWT IDPs response",required:["jwtIdps"],additionalProperties:!1,properties:{jwtIdps:{type:"array",description:"A list of JWT IDPs.",items:cH},paginationToken:cp}},anonymousToken:{type:"object",description:"An anonymous token minted from the JWT Identity Provider.",required:["token"],additionalProperties:!1,properties:{token:cn}},jwtIdp:cH,jwtIdpKey:{type:"object",description:"A JWT IDP key.",required:["jwtIdpName"],additionalProperties:!1,properties:{jwtIdpName:cm}},jwtIdpSettings:cG,jwtIdpName:cm},cJ=(0,n.optional)((0,n.string)()),cK=(0,n.object)({limit:(0,n.optional)((0,n.number)()),paginationToken:cJ,previousPage:(0,n.optional)((0,n.bool)())});(b4=h||(h={})).CSC="CSC",b4.AWS="AWS",b4.JWT="JWT";var cL,cM,cN=(0,n.union)((0,n.literal)(h.CSC),(0,n.literal)(h.AWS),(0,n.literal)(h.JWT));(cL=i||(i={})).Allow="Allow",cL.Deny="Deny",(cM=j||(j={})).User="user",cM.Role="role";var cO=(0,n.union)((0,n.literal)(j.User),(0,n.literal)(j.Role)),cP=(0,n.union)((0,n.literal)(i.Allow),(0,n.literal)(i.Deny)),cQ=(0,n.object)({aud:(0,n.string)(),type:(0,n.string)(),pool:(0,n.string)(),getId:(0,n.array)((0,n.string)()),isAnonymousVendor:(0,n.optional)((0,n.bool)())}),cR=(0,n.object)({accountId:(0,n.string)(),jwtIdpName:(0,n.string)()}),cS=(0,n.object)({accountId:(0,n.string)(),jwtIdpName:(0,n.string)(),settings:cQ}),cT=(0,n.object)({settings:cQ,jwtIdpName:(0,n.string)(),sharedSecret:(0,n.string)()}),cU=(0,n.object)({jwtIdpName:(0,n.string)()}),cV=(0,n.object)({sharedSecret:(0,n.string)(),jwtIdpName:(0,n.string)()}),cW=(0,n.object)({settings:cQ,jwtIdpName:(0,n.string)()}),cX=(0,n.union)((0,n.string)(),(0,n.array)((0,n.string)())),cY=(0,n.union)((0,n.string)(),(0,n.array)((0,n.string)())),cZ=(0,n.dict)((0,n.union)((0,n.string)(),(0,n.array)((0,n.string)()))),c$=(0,n.dict)(cZ),c_=(0,n.object)(((g={})[h.CSC]=(0,n.optional)((0,n.union)((0,n.string)(),(0,n.array)((0,n.string)()))),g[h.AWS]=(0,n.optional)((0,n.union)((0,n.string)(),(0,n.array)((0,n.string)()))),g[h.JWT]=(0,n.optional)((0,n.union)((0,n.string)(),(0,n.array)((0,n.string)()))),g)),c0={Note:(0,n.optional)((0,n.string)()),Effect:cP,Action:cX,NotAction:(0,n.optional)(cX),Condition:(0,n.optional)(c$)},c1=(0,n.object)(D({},c0,{Resource:cY,NotResource:(0,n.optional)(cY)})),c2=(0,n.object)(D({},c0,{Principal:(0,n.optional)(c_),NotPrincipal:(0,n.optional)(c_)})),c3=(0,n.string)(),c4=(0,n.string)(),c5=(0,n.string)(),c6=(0,n.string)(),c7=(0,n.string)(),c8=(0,n.string)(),c9=(0,n.string)(),da=(0,n.string)(),db=(0,n.string)(),dc=(0,n.string)(),dd=(0,n.nullable)((0,n.string)()),de=(0,n.string)(),df=(0,n.number)(),dg=(0,n.bool)(),dh=(0,n.string)(),di=(0,n.optional)((0,n.string)()),dj=(0,n.object)({userName:c3}),dk=(0,n.object)({roleName:c5}),dl=(0,n.object)({policyName:c4}),dm=(0,n.object)({groupName:c6}),dn=(0,n.object)({userName:c3,accessKeyId:c7}),dp=(0,n.object)({alias:dd}),dq=(0,n.object)({userName:c3,password:dc,requiresReset:(0,n.optional)((0,n.bool)())}),dr=(0,n.array)(c6),ds=(0,n.array)(c7),dt=(0,n.array)(c5),du=(0,n.array)(c3),dv=(0,n.array)(c4),dw=(0,n.array)(c2),dx=(0,n.array)(c1),dy=(0,n.object)({policyName:c4,statements:dx}),dz=(0,n.object)({roleName:c5,assumeRolePolicyStatements:dw}),dA=(0,n.object)({userName:c3,policyName:c4}),dB=(0,n.object)({groupName:c6,policyName:c4}),dC=(0,n.object)({roleName:c5,policyName:c4}),dD=(0,n.object)({userName:c3,groupName:c6}),dE=(0,n.optional)((0,n.array)(c1)),dF=(0,n.object)({groupName:c6,accountId:c9,policies:dv,users:du}),dG=(0,n.object)({accountId:c9,userName:c3,policies:dv,groups:dr,hasLoginProfile:dg,keys:ds}),dH=(0,n.object)({roleName:c5,accountId:c9,policies:dv,assumeRolePolicyStatements:dw}),dI=(0,n.object)({accountId:c9,policyName:c4,users:du,groups:dr,roles:dt,statements:dx}),dJ=(0,n.object)({accountId:c9,secretAccessKey:c8,accessKeyId:c7,userName:c3}),dK=(0,n.object)({accountId:c9,alias:dd}),dL=(0,n.object)({identityKey:db,identityType:cO,accountId:c9,identityArn:de,sessionArn:de,sessionToken:da,accessKeyId:c7,secretAccessKey:c8,expires:df,identitySourceType:cN,identitySourceId:dh,tokenIssueTime:di,policyStatements:dE}),dM=(0,n.object)({accountId:c9,userName:c3,password:dc,expiresIn:(0,n.optional)((0,n.number)()),policyStatements:dE,newPassword:(0,n.optional)((0,n.string)())}),dN=(0,n.object)({accessKeyId:c7,secretAccessKey:c8,sessionToken:(0,n.optional)(da)}),dO=(0,n.object)({authorization:(0,n.string)(),contentLength:(0,n.union)((0,n.string)(),(0,n.number)()),xAmzDate:(0,n.string)(),xAmzSecurityToken:(0,n.optional)((0,n.string)())}),dP={roleName:c5,accountId:c9,policyStatements:dE},dQ=(0,n.object)(dP),dR=(0,n.union)((0,n.object)(D({credentials:dN,awsStsCallAssertions:(0,n.optional)(dO)},dP)),(0,n.object)(D({awsStsCallAssertions:dO,credentials:(0,n.optional)(dN)},dP))),dS=(0,n.object)(D({jwtIdpName:(0,n.string)(),jwt:(0,n.string)()},dP)),dT=(0,n.object)({written:(0,n.bool)()}),dU={receivesSchema:cI.userPolicy,returnsSchema:cI.writtenResponse,receives:dA,method:f.PUT,composePath:function(a){var b=a.userName,c=a.policyName;return"/users/"+encodeURIComponent(b)+"/policies/"+encodeURIComponent(c)+"/attachment"},returns:dT},dV={receivesSchema:cI.rolePolicy,returnsSchema:cI.writtenResponse,receives:dC,method:f.PUT,composePath:function(a){var b=a.roleName,c=a.policyName;return"/roles/"+encodeURIComponent(b)+"/policies/"+encodeURIComponent(c)+"/attachment"},returns:dT},dW={receivesSchema:cI.groupPolicy,returnsSchema:cI.writtenResponse,receives:dB,method:f.PUT,composePath:function(a){var b=a.groupName,c=a.policyName;return"/groups/"+encodeURIComponent(b)+"/policies/"+encodeURIComponent(c)+"/attachment"},returns:dT},dX={receivesSchema:cI.userGroup,returnsSchema:cI.writtenResponse,receives:dD,method:f.PUT,composePath:function(a){var b=a.userName,c=a.groupName;return"/users/"+encodeURIComponent(b)+"/groups/"+encodeURIComponent(c)+"/attachment"},returns:dT},dY={receivesSchema:cI.userPolicy,returnsSchema:cI.writtenResponse,receives:dA,method:f.DELETE,composePath:function(a){var b=a.userName,c=a.policyName;return"/users/"+encodeURIComponent(b)+"/policies/"+encodeURIComponent(c)+"/attachment"},returns:dT},dZ={receivesSchema:cI.rolePolicy,returnsSchema:cI.writtenResponse,receives:dC,method:f.DELETE,composePath:function(a){var b=a.roleName,c=a.policyName;return"/roles/"+encodeURIComponent(b)+"/policies/"+encodeURIComponent(c)+"/attachment"},returns:dT},d$={receivesSchema:cI.groupPolicy,returnsSchema:cI.writtenResponse,receives:dB,method:f.DELETE,composePath:function(a){var b=a.groupName,c=a.policyName;return"/groups/"+encodeURIComponent(b)+"/policies/"+encodeURIComponent(c)+"/attachment"},returns:dT},d_={receivesSchema:cI.userGroup,returnsSchema:cI.writtenResponse,receives:dD,method:f.DELETE,composePath:function(a){var b=a.userName,c=a.groupName;return"/users/"+encodeURIComponent(b)+"/groups/"+encodeURIComponent(c)+"/attachment"},returns:dT},d0={receivesSchema:cI.policyDefinition,returnsSchema:cI.policy,receives:dy,method:f.POST,composePath:function(a){return"/policies/"+encodeURIComponent(a.policyName)},composeBody:function(a){return{statements:a.statements}},returns:dI},d1={receivesSchema:cI.policyDefinition,returnsSchema:cI.policy,receives:dy,method:f.PUT,composePath:function(a){return"/policies/"+encodeURIComponent(a.policyName)},composeBody:function(a){return{statements:a.statements}}},d2={receivesSchema:cI.groupKey,returnsSchema:cI.group,receives:dm,method:f.POST,composePath:function(a){return"/groups/"+encodeURIComponent(a.groupName)},returns:dF},d3={receivesSchema:cI.userKey,returnsSchema:cI.user,receives:dj,method:f.POST,composePath:function(a){return"/users/"+encodeURIComponent(a.userName)},returns:dG},d4={receivesSchema:cI.roleDefinition,returnsSchema:cI.role,receives:dz,method:f.POST,composePath:function(a){return"/roles/"+encodeURIComponent(a.roleName)},composeBody:function(a){return{assumeRolePolicyStatements:a.assumeRolePolicyStatements}},returns:dH},d5={receivesSchema:cI.roleDefinition,returnsSchema:cI.role,receives:dz,method:f.PUT,composePath:function(a){return"/roles/"+encodeURIComponent(a.roleName)},composeBody:function(a){return{assumeRolePolicyStatements:a.assumeRolePolicyStatements}}},d6={receivesSchema:cI.policyKey,returnsSchema:cI.policy,receives:dl,method:f.GET,composePath:function(a){return"/policies/"+encodeURIComponent(a.policyName)},returns:dI},d7={receivesSchema:cI.groupKey,returnsSchema:cI.group,receives:dm,method:f.GET,composePath:function(a){return"/groups/"+encodeURIComponent(a.groupName)},returns:dF},d8={receivesSchema:cI.userKey,returnsSchema:cI.user,receives:dj,method:f.GET,composePath:function(a){return"/users/"+encodeURIComponent(a.userName)},returns:dG},d9={receivesSchema:cI.roleKey,returnsSchema:cI.role,receives:dk,method:f.GET,composePath:function(a){return"/roles/"+encodeURIComponent(a.roleName)},returns:dH},ea={receivesSchema:cI.listOperationParameters,returnsSchema:cI.listPoliciesResponse,receives:(0,n.union)((0,n.literal)(void 0),cK),method:f.GET,composePath:function(){return"/policies"},composeParams:function(a){var b=void 0===a?{}:a,c=b.paginationToken,d=b.limit,e=b.previousPage;return{paginationToken:c,limit:String(d||10),previousPage:String(!!e)}},returns:(0,n.object)({policies:(0,n.array)(dI),paginationToken:cJ})},eb={receivesSchema:cI.listOperationParameters,returnsSchema:cI.listGroupsResponse,receives:(0,n.union)((0,n.literal)(void 0),cK),method:f.GET,composePath:function(){return"/groups"},composeParams:function(a){var b=void 0===a?{}:a,c=b.paginationToken,d=b.limit,e=b.previousPage;return{paginationToken:c,limit:String(d||10),previousPage:String(!!e)}},returns:(0,n.object)({groups:(0,n.array)(dF),paginationToken:cJ})},ec={receivesSchema:cI.listOperationParameters,returnsSchema:cI.listUsersResponse,receives:(0,n.union)((0,n.literal)(void 0),cK),method:f.GET,composePath:function(){return"/users"},composeParams:function(a){var b=void 0===a?{}:a,c=b.paginationToken,d=b.limit,e=b.previousPage;return{paginationToken:c,limit:String(d||10),previousPage:String(!!e)}},returns:(0,n.object)({users:(0,n.array)(dG),paginationToken:cJ})},ed={receivesSchema:cI.listOperationParameters,returnsSchema:cI.listRolesResponse,receives:(0,n.union)((0,n.literal)(void 0),cK),method:f.GET,composePath:function(){return"/roles"},composeParams:function(a){var b=void 0===a?{}:a,c=b.paginationToken,d=b.limit,e=b.previousPage;return{paginationToken:c,limit:String(d||10),previousPage:String(!!e)}},returns:(0,n.object)({roles:(0,n.array)(dH),paginationToken:cJ})},ee={receivesSchema:cI.policyKey,returnsSchema:cI.policy,receives:dl,method:f.DELETE,composePath:function(a){return"/policies/"+encodeURIComponent(a.policyName)},returns:dI},ef={receivesSchema:cI.groupKey,returnsSchema:cI.group,receives:dm,method:f.DELETE,composePath:function(a){return"/groups/"+encodeURIComponent(a.groupName)},returns:dF},eg={receivesSchema:cI.userKey,returnsSchema:cI.user,receives:dj,method:f.DELETE,composePath:function(a){return"/users/"+encodeURIComponent(a.userName)},returns:dG},eh={receivesSchema:cI.roleKey,returnsSchema:cI.role,receives:dk,method:f.DELETE,composePath:function(a){return"/roles/"+encodeURIComponent(a.roleName)},returns:dH},ei={receivesSchema:cI.userKey,returnsSchema:cI.accessKey,receives:dj,method:f.POST,composePath:function(a){return"/users/"+encodeURIComponent(a.userName)+"/keys"},returns:dJ},ej={receivesSchema:cI.accessKeyKey,returnsSchema:cI.writtenResponse,receives:dn,method:f.DELETE,composePath:function(a){var b=a.userName,c=a.accessKeyId;return"/users/"+encodeURIComponent(b)+"/keys/"+encodeURIComponent(c)},returns:dT},ek={receivesSchema:cI.loginCredentialsDefinition,receives:dq,method:f.POST,composePath:function(a){return"/users/"+encodeURIComponent(a.userName)+"/loginProfile"},composeBody:function(a){var b=a.password,c=a.requiresReset;return{password:b,requiresReset:c}}},el={receivesSchema:cI.loginCredentialsDefinition,receives:dq,method:f.PUT,composePath:function(a){return"/users/"+encodeURIComponent(a.userName)+"/loginProfile"},composeBody:function(a){var b=a.password,c=a.requiresReset;return{password:b,requiresReset:c}}},em={receivesSchema:cI.userKey,receives:dj,method:f.DELETE,composePath:function(a){return"/users/"+encodeURIComponent(a.userName)+"/loginProfile"}},en={receivesSchema:cI.login,receives:dM,method:f.POST,composePath:function(a){var b=a.userName,c=a.accountId;return"/accounts/"+encodeURIComponent(c)+"/users/"+encodeURIComponent(b)+"/loginProfile/session"},composeBody:function(a){var b=a.password,c=a.policyStatements,d=a.expiresIn,e=a.newPassword;return{password:b,expiresIn:d,policyStatements:c,newPassword:e}},returns:dL},eo={returnsSchema:cI.accountAlias,receives:(0,n.literal)(void 0),method:f.GET,composePath:function(){return"/accountAlias"},returns:dK},ep={receivesSchema:cI.aliasKey,returnsSchema:cI.accountAlias,receives:dp,method:f.POST,composePath:function(){return"/accountAlias"},composeBody:function(a){return{alias:a.alias}},returns:dK},eq={returnsSchema:cI.writtenResponse,receives:(0,n.literal)(void 0),method:f.DELETE,composePath:function(){return"/accountAlias"},returns:dT},er={receivesSchema:cI.assumeRoleBase,returnsSchema:cI.session,receives:dQ,method:f.POST,composePath:function(a){var b=a.accountId,c=a.roleName;return"/accounts/"+encodeURIComponent(b)+"/roles/"+encodeURIComponent(c)+"/session"},composeBody:function(a){return{policyStatements:a.policyStatements}},returns:dL},es={receivesSchema:cI.assumeRoleWithAwsRequest,returnsSchema:cI.session,receives:dR,method:f.POST,composePath:function(a){var b=a.accountId,c=a.roleName;return"/accounts/"+encodeURIComponent(b)+"/roles/"+encodeURIComponent(c)+"/session/withAws"},composeBody:function(a){var b=a.credentials,c=a.awsStsCallAssertions,d=a.policyStatements;if(c)return{awsStsCallAssertions:c,policyStatements:d};if(b)return{awsStsCallAssertions:eB(b),policyStatements:d};throw TypeError("assumeRoleWithAws requires either awsStsCallAssertions or credentials.")},returns:dL},et={receivesSchema:cI.assumeRoleWithJwtRequest,returnsSchema:cI.session,receives:dS,method:f.POST,composePath:function(a){var b=a.accountId,c=a.roleName;return"/accounts/"+encodeURIComponent(b)+"/roles/"+encodeURIComponent(c)+"/session/withJwt"},composeBody:function(a){var b=a.jwt,c=a.jwtIdpName,d=a.policyStatements;return{jwt:b,jwtIdpName:c,policyStatements:d}},returns:dL},eu={receivesSchema:cI.createJwtIdpRequest,returnsSchema:cI.jwtIdp,receives:cT,method:f.POST,composePath:function(a){return"/jwtIdps/"+encodeURIComponent(a.jwtIdpName)},composeBody:function(a){var b=a.sharedSecret,c=a.settings;return{sharedSecret:b,settings:c}},returns:cS},ev={receivesSchema:cI.jwtIdpName,returnsSchema:cI.jwtIdp,receives:cU,method:f.DELETE,composePath:function(a){return"/jwtIdps/"+encodeURIComponent(a.jwtIdpName)},returns:cS},ew={receivesSchema:cI.jwtIdpName,returnsSchema:cI.jwtIdp,receives:cU,method:f.GET,composePath:function(a){return"/jwtIdps/"+encodeURIComponent(a.jwtIdpName)},returns:cS},ex={receivesSchema:cI.listOperationParameters,returnsSchema:cI.listJwtIdpsResponse,receives:(0,n.union)((0,n.literal)(void 0),cK),method:f.GET,composePath:function(){return"/jwtIdps"},composeParams:function(a){var b=void 0===a?{}:a,c=b.paginationToken,d=b.limit,e=b.previousPage;return{paginationToken:c,limit:String(d||10),previousPage:String(!!e)}},returns:(0,n.object)({jwtIdps:(0,n.array)(cS),paginationToken:cJ})},ey={receivesSchema:cI.updateJwtIdpSecretRequest,returnsSchema:cI.writtenResponse,receives:cV,method:f.PUT,composePath:function(a){return"/jwtIdps/"+encodeURIComponent(a.jwtIdpName)+"/sharedSecret"},composeBody:function(a){return{sharedSecret:a.sharedSecret}},returns:dT},ez={receivesSchema:cI.updateJwtIdpSettingsRequest,returnsSchema:cI.writtenResponse,receives:cW,method:f.PUT,composePath:function(a){return"/jwtIdps/"+encodeURIComponent(a.jwtIdpName)+"/settings"},composeBody:function(a){return{settings:a.settings}},returns:dT},eA={receivesSchema:cI.getAnonymousTokenRequest,returnsSchema:cI.anonymousToken,receives:cR,method:f.POST,composePath:function(a){var b=a.jwtIdpName,c=a.accountId;return"/accounts/"+encodeURIComponent(c)+"/jwtIdps/"+encodeURIComponent(b)+"/anonymousToken"},returns:(0,n.object)({token:(0,n.string)()})},eB=function(a){var b,c,d,e,f=a.accessKeyId,g=a.secretAccessKey,h=a.sessionToken,i=bV({region:"us-east-1",service:"sts",host:"sts.amazonaws.com",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},path:"/",body:"Action=GetCallerIdentity&Version=2011-06-15"},{accessKeyId:f,secretAccessKey:g,sessionToken:h}).sign();return{authorization:null==(b=i.headers)?void 0:b.Authorization,contentLength:null==(c=i.headers)?void 0:c["Content-Length"],xAmzDate:null==(d=i.headers)?void 0:d["X-Amz-Date"],xAmzSecurityToken:null==(e=i.headers)?void 0:e["X-Amz-Security-Token"]}},eC="api.csciam.com",eD=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({service:"iam",host:d||eC,region:"global",credentials:c}),f=b8({host:d||eC});return{attachUserPolicy:e(dU),attachRolePolicy:e(dV),attachGroupPolicy:e(dW),attachUserGroup:e(dX),detachUserPolicy:e(dY),detachRolePolicy:e(dZ),detachGroupPolicy:e(d$),detachUserGroup:e(d_),createPolicy:e(d0),updatePolicy:e(d1),createGroup:e(d2),createUser:e(d3),createRole:e(d4),updateRole:e(d5),getPolicy:e(d6),getGroup:e(d7),getUser:e(d8),getRole:e(d9),listPolicies:e(ea),listGroups:e(eb),listUsers:e(ec),listRoles:e(ed),deletePolicy:e(ee),deleteGroup:e(ef),deleteUser:e(eg),deleteRole:e(eh),createAccessKey:e(ei),deleteAccessKey:e(ej),createLoginProfile:e(ek),updateLoginProfile:e(el),deleteLoginProfile:e(em),createLoginProfileSession:f(en),getAccountAlias:e(eo),createAccountAlias:e(ep),deleteAccountAlias:e(eq),assumeRole:e(er),assumeRoleWithAws:f(es),assumeRoleWithJwt:f(et),createJwtIdp:e(eu),deleteJwtIdp:e(ev),getJwtIdp:e(ew),listJwtIdps:e(ex),updateJwtIdpSecret:e(ey),updateJwtIdpSettings:e(ez),getAnonymousJwtIdpToken:f(eA)}};eD.signature={attachUserPolicy:dU,attachRolePolicy:dV,attachGroupPolicy:dW,attachUserGroup:dX,detachUserPolicy:dY,detachRolePolicy:dZ,detachGroupPolicy:d$,detachUserGroup:d_,createPolicy:d0,updatePolicy:d1,createGroup:d2,createUser:d3,createRole:d4,updateRole:d5,getPolicy:d6,getGroup:d7,getUser:d8,getRole:d9,listPolicies:ea,listGroups:eb,listUsers:ec,listRoles:ed,deletePolicy:ee,deleteGroup:ef,deleteUser:eg,deleteRole:eh,createAccessKey:ei,deleteAccessKey:ej,createLoginProfile:ek,updateLoginProfile:el,deleteLoginProfile:em,createLoginProfileSession:en,getAccountAlias:eo,createAccountAlias:ep,deleteAccountAlias:eq,assumeRole:er,assumeRoleWithAws:es,assumeRoleWithJwt:et,createJwtIdp:eu,deleteJwtIdp:ev,getJwtIdp:ew,listJwtIdps:ex,updateJwtIdpSecret:ey,updateJwtIdpSettings:ez,getAnonymousJwtIdpToken:eA};var eE,eF,eG=cc({receives:dz,create:a3("createRole"),update:a3("updateRole"),delete:function(a){return ak(a.deleteRole)(bg(["roleName"]))},get:function(a){return ak(a.getRole)(bg(["roleName"]))},mapToAttrs:bg(["roleName"]),ignore409:!0}),eH=cc({receives:dy,create:a3("createPolicy"),update:a3("updatePolicy"),delete:function(a){return ak(a.deletePolicy)(bg(["policyName"]))},get:function(a){return ak(a.getPolicy)(bg(["policyName"]))},mapToAttrs:bg(["policyName"]),ignore409:!0}),eI=cc({receives:dm,create:a3("createGroup"),update:a3("createGroup"),delete:function(a){return ak(a.deleteGroup)(bg(["groupName"]))},get:function(a){return ak(a.getGroup)(bg(["groupName"]))},mapToAttrs:bg(["groupName"]),ignore409:!0}),eJ=cc({receives:dj,create:a3("createUser"),update:a3("createUser"),delete:function(a){return ak(a.deleteUser)(bg(["userName"]))},get:function(a){return ak(a.getUser)(bg(["userName"]))},mapToAttrs:bg(["userName"]),ignore409:!0}),eK=function(){return C(z().mark(function a(){return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw Error("Not Allowed");case 1:case"end":return a.stop()}},a)}))},eL=cc({receives:dA,create:a3("attachUserPolicy"),update:eK,delete:function(a){return ak(a.detachUserPolicy)(bg(["userName","policyName"]))},get:function(){var a;return a=C(z().mark(function a(b){return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",b);case 1:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},mapToAttrs:ae,ignore409:!0}),eM=cc({receives:dC,create:a3("attachRolePolicy"),update:eK,delete:function(a){return ak(a.detachRolePolicy)(bg(["roleName","policyName"]))},get:function(){var a;return a=C(z().mark(function a(b){return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",b);case 1:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},mapToAttrs:ae,ignore409:!0}),eN=cc({receives:dB,create:a3("attachGroupPolicy"),update:eK,delete:function(a){return ak(a.detachGroupPolicy)(bg(["groupName","policyName"]))},get:function(){var a;return a=C(z().mark(function a(b){return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",b);case 1:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},mapToAttrs:ae,ignore409:!0}),eO=cc({receives:dD,create:a3("attachUserGroup"),update:eK,delete:function(a){return ak(a.detachUserGroup)(bg(["groupName","userName"]))},get:function(){var a;return a=C(z().mark(function a(b){return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",b);case 1:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},mapToAttrs:ae,ignore409:!0}),eP=function(a){var b;return b=C(z().mark(function b(c){var d,e,f,g,h;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=c.credentials,e=c.roleName,f=c.accountId,g=c.getUpstreamCredentials,h=function(){var b=C(z().mark(function b(){var c;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,a({credentials:d,roleName:e,accountId:f,getUpstreamCredentials:g});case 2:return c=b.sent,b.abrupt("return",c?D({},c,{refreshFunctor:h}):null);case 4:case"end":return b.stop()}},b)}));return function(){return b.apply(this,arguments)}}(),b.next=4,h();case 4:return b.abrupt("return",b.sent);case 5:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}},eQ=(eE=C(z().mark(function a(b){var c,d,e,f,g,h,i,j,k,l,m;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.credentials,d=b.roleName,e=b.accountId,f=b.getUpstreamCredentials,g=void 0===f?Z:f,a.next=3,c||g();case 3:if(!(h=a.sent)){a.next=10;break}return a.next=7,eD().assumeRoleWithAws({credentials:h,roleName:d,accountId:e});case 7:return j=(i=a.sent).accessKeyId,k=i.secretAccessKey,l=i.sessionToken,m=i.expires,a.abrupt("return",{accessKeyId:j,secretAccessKey:k,sessionToken:l,accountId:e,expires:m});case 10:return a.abrupt("return",null);case 11:case"end":return a.stop()}},a)})),function(a){return eE.apply(this,arguments)}),eR=(eF=C(z().mark(function a(b){var c,d,e,f,g,h,i,j,k,l,m,n,o;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.credentials,d=b.roleName,e=b.accountId,f=b.getUpstreamCredentials,a.next=3,c;case 3:if((g=a.sent)||"function"!=typeof f){a.next=9;break}return a.next=8,f();case 8:g=a.sent;case 9:if(!g){a.next=16;break}return i=(h=g).jwt,j=h.jwtIdpName,a.next=13,eD().assumeRoleWithJwt({jwtIdpName:j,jwt:i,roleName:d,accountId:e});case 13:return l=(k=a.sent).accessKeyId,m=k.secretAccessKey,n=k.sessionToken,o=k.expires,a.abrupt("return",{accessKeyId:l,secretAccessKey:m,sessionToken:n,accountId:e,expires:o});case 16:return a.abrupt("return",null);case 17:case"end":return a.stop()}},a)})),function(a){return eF.apply(this,arguments)}),eS=function(a){var b,c,d=a.applicationId,e=a.jwtIdpName,f=a.roleName,g=a.accountId;return eP(eR)({roleName:f,accountId:g,getUpstreamCredentials:(b=function(){return c.apply(this,arguments)},c=C(z().mark(function a(){var b,c;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p().get(location.origin+"/customer/current.jwt?app_client_id="+d);case 3:return c=(b=a.sent).data.token,a.abrupt("return",{jwt:String(c),jwtIdpName:e});case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",null);case 11:case"end":return a.stop()}},a,null,[[0,8]])})),b)})},eT={AWS:eP(eQ),JWT:eP(eR),BigCommerce:eS},eU=s.String,eV=(0,s.Record)({provider:eU}),eW=(0,s.Record)({from:(0,s.Optional)(s.String),to:(0,s.Optional)(s.String)}),eX=(0,s.Intersect)(eV,eW),eY=(0,s.Record)({uniqueImpressions:s.Number,impressions:s.Number,acceptedOffers:s.Number,conversionRate:s.Number}),eZ=(0,s.Record)({id:s.String,merchantCustomerId:s.String,email:s.String,createdAt:s.String,firstName:s.String,lastName:s.String,isActive:s.Boolean,balance:s.Number}),e$=(0,s.Array)(eZ),e_=(0,s.Record)({customers:e$}),e0=s.String,e1=(0,s.Record)({clientKey:s.String,secretKey:s.String}),e2=(0,s.Record)({}),e3=(0,s.Literal)("shoptoken"),e4=(0,s.Record)({provider:e3,accountId:e0,account:e2}),e5=(0,s.Record)({credentials:e1,account:e2,provider:e3}),e6=(0,s.Record)({provider:e3,credentials:e1}),e7=(0,s.Record)({provider:e3,account:e2}),e8=(0,s.Union)(e7),e9=(0,s.Union)(e6),fa=(0,s.Union)(e4),fb=(0,s.Union)(e5),fc=(0,s.Record)({written:s.Boolean}),fd={receives:s.Void,method:f.GET,composePath:function(){return"/provider"},returns:(0,s.Array)(fa)},fe={receives:eV,method:f.GET,composePath:function(a){return"/provider/"+a.provider},returns:fa},ff={receives:eV,method:f.DELETE,composePath:function(a){return"/provider/"+a.provider},returns:fc},fg={receives:e8,method:f.PUT,composePath:function(a){return"/provider/"+a.provider+"/account"},returns:fc},fh={receives:e9,method:f.PUT,composePath:function(a){return"/provider/"+a.provider+"/credentials"},returns:fc},fi={receives:fb,method:f.POST,composePath:function(a){return"/provider/"+a.provider},composeBody:function(a){var b=a.account,c=a.credentials;return{account:b,credentials:c}},returns:fa},fj={receives:eV,method:f.GET,composePath:function(a){return"/provider/"+a.provider+"/customers"},returns:e_,hints:{csvRows:function(a){return a.customers}}},fk={receives:eX,method:f.GET,composeParams:function(a){var b=a.from,c=a.to;return{from:b,to:c}},composePath:function(a){return"/provider/"+a.provider+"/reports/conversion"},returns:eY},fl=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||"api.cscloyalty.com",service:"loyalty",region:"us-east-1",credentials:c});return{listProviders:e(fd),getProvider:e(fe),deleteProvider:e(ff),updateProviderAccount:e(fg),updateProviderCredentials:e(fh),createProvider:e(fi),getCustomers:e(fj),reportConversionRate:e(fk)}};fl.signature={listProviders:fd,getProvider:fe,deleteProvider:ff,updateProviderAccount:fg,updateProviderCredentials:fh,createProvider:fi,getCustomers:fj,reportConversionRate:fk};var fm=(0,n.union)((0,n.literal)("get"),(0,n.literal)("GET"),(0,n.literal)("delete"),(0,n.literal)("DELETE"),(0,n.literal)("head"),(0,n.literal)("HEAD"),(0,n.literal)("options"),(0,n.literal)("OPTIONS"),(0,n.literal)("post"),(0,n.literal)("POST"),(0,n.literal)("put"),(0,n.literal)("PUT"),(0,n.literal)("patch"),(0,n.literal)("PATCH"),(0,n.literal)("purge"),(0,n.literal)("PURGE"),(0,n.literal)("link"),(0,n.literal)("LINK"),(0,n.literal)("unlink"),(0,n.literal)("UNLINK")),fn=function(a){try{return(0,n.assertion)(fm)(a)}catch(b){return"GET"}},fo=function(a){return void 0!==a},fp=function(a){var b=a.host,c=a.credentials,d=a.region,e=a.service,f=null;return function(a){var g,h=a.receives,i=a.method,j=a.composePath,k=a.composeParams,l=a.composeBody,m=a.returns;return g=C(z().mark(function a(g){var n,o,p,q,r,s,t,u,v,w,x,y,A,B,C,D;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=(n=b7({argHash:g,receives:h,composePath:j,composeBody:l,composeParams:k,returns:m,method:i})).path,p=n.body,a.next=3,c||aa.CSC();case 3:if(f=a.sent){a.next=6;break}throw Error("Signed call attempted without credentials");case 6:if(r=(q=f).accessKeyId,s=q.secretAccessKey,t=q.sessionToken,u=q.expires,v=q.refreshFunctor,!("number"==typeof u&&1e3*u<Date.now()&&"function"==typeof v)){a.next=13;break}return a.next=10,v();case 10:a.t0=a.sent,a.next=14;break;case 13:a.t0=f;case 14:if(f=a.t0){a.next=17;break}throw Error("Signed call attempted without credentials, failed to refresh.");case 17:return(x=(w=bV({method:i,host:b,path:o,service:e,region:d,headers:b6({method:i,body:p}),body:p},{accessKeyId:r,secretAccessKey:s,sessionToken:t}).sign()).headers||{})["x-iam-authorization"]=x.Authorization,delete x.Authorization,y=function(a){return Array.isArray(a)?a.join(","):a},B=(A=Object.entries(x).map(function(a){var b=a[0],c=a[1];return[b,y(c)]})).filter(fo),C=Object.fromEntries(B),D={method:fn(w.method),headers:C,url:"https://"+w.host+w.path,data:p,decompress:!0,responseType:"json"},a.abrupt("return",D);case 26:case"end":return a.stop()}},a)})),function(a){return g.apply(this,arguments)}}},fq=function(a){var b=a.host;return function(a){var c,d=a.returns;return c=C(z().mark(function a(c){var e;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c.url.startsWith("https://"+b)){a.next=2;break}throw Error("Presigned request URL "+c.url+" does not match expected host "+b);case 2:return a.next=4,p()(D({},c,{decompress:!0,responseType:"json"}));case 4:if(e=a.sent,void 0!==d){a.next=7;break}return a.abrupt("return",void 0);case 7:return a.prev=7,a.abrupt("return","function"==typeof d?(0,n.assertion)(d)(e.data):d.check(e.data));case 11:throw a.prev=11,a.t0=a.catch(7),(0,l.Z)(a.t0,Error)&&(console.error("Failed to parse response from "+c.method+" "+c.url+": "+a.t0.message),console.error(e.data)),a.t0;case 15:case"end":return a.stop()}},a,null,[[7,11]])})),function(a){return c.apply(this,arguments)}}},fr=(0,s.Literal)("card"),fs=(0,s.Union)((0,s.Literal)("visa"),(0,s.Literal)("mastercard"),(0,s.Literal)("discover"),(0,s.Literal)("american express"),(0,s.Literal)("diners club"),(0,s.Literal)("china union pay"),(0,s.Literal)("jcb")),ft=(0,s.Record)({type:s.String,profileId:(0,s.Optional)(s.String),requireShippingAddress:s.Boolean,requiredContextFields:(0,s.Array)(s.String),contextFieldMappings:(0,s.Array)((0,s.Record)({internalName:s.String,logicalName:s.String})),requireLineItems:s.Boolean,requireDeviceFingerprint:(0,s.Optional)(s.Boolean)}),fu=s.String,fv=(0,s.Record)({gatewayName:fu}),fw=s.String,fx=s.String,fy=(0,s.Record)({keyCert:s.String,pemCert:s.String}),fz=(0,s.Record)({keyId:s.String,secretKey:s.String}),fA=(0,s.Record)({merchantId:s.String,sandbox:s.Boolean,expectedOrigins:(0,s.Array)(s.String),antiFraud:(0,s.Optional)(ft)}),fB=(0,s.Literal)("cybersource"),fC=(0,s.Record)({gatewayType:fB,gatewayName:fu,accountId:fx,account:fA}),fD=(0,s.Record)({credentials:fz,account:fA,gatewayType:fB,gatewayName:fu}),fE=(0,s.Record)({gatewayType:fB,gatewayName:fu,credentials:fz,applePayCerts:(0,s.Optional)(fy)}),fF=(0,s.Record)({gatewayType:fB,gatewayName:fu,credentials:(0,s.Optional)(fz),applePayCerts:fy}),fG=(0,s.Union)(fE,fF),fH=(0,s.Record)({gatewayType:fB,gatewayName:fu,account:fA}),fI=(0,s.Record)({merchantId:s.String,sandbox:s.Boolean,expectedOrigins:(0,s.Array)(s.String),antiFraud:(0,s.Optional)(ft)}),fJ=(0,s.Literal)("paypal"),fK=(0,s.Record)({gatewayType:fJ,gatewayName:fu,accountId:fx,account:fI}),fL=(0,s.Record)({credentials:fz,account:fI,gatewayType:fJ,gatewayName:fu}),fM=(0,s.Record)({gatewayType:fJ,gatewayName:fu,credentials:fz,applePayCerts:(0,s.Optional)(fy)}),fN=(0,s.Record)({gatewayType:fJ,gatewayName:fu,credentials:(0,s.Optional)(fz),applePayCerts:fy}),fO=(0,s.Union)(fM,fN),fP=(0,s.Record)({gatewayType:fJ,gatewayName:fu,account:fI}),fQ=(0,s.Record)({merchantId:s.String,sandbox:s.Boolean,expectedOrigins:(0,s.Array)(s.String),antiFraud:(0,s.Optional)(ft)}),fR=(0,s.Literal)("stripe"),fS=(0,s.Record)({gatewayType:fR,gatewayName:fu,accountId:fx,account:fQ}),fT=(0,s.Record)({credentials:fz,account:fQ,gatewayType:fR,gatewayName:fu}),fU=(0,s.Record)({gatewayType:fR,gatewayName:fu,credentials:fz,applePayCerts:(0,s.Optional)(fy)}),fV=(0,s.Record)({gatewayType:fR,gatewayName:fu,credentials:(0,s.Optional)(fz),applePayCerts:fy}),fW=(0,s.Union)(fU,fV),fX=(0,s.Record)({gatewayType:fR,gatewayName:fu,account:fQ}),fY=(0,s.Record)({merchantId:s.String,sandbox:s.Boolean,expectedOrigins:(0,s.Array)(s.String)}),fZ=(0,s.Literal)("braintree"),f$=(0,s.Record)({gatewayType:fZ,accountId:fx,account:fY,gatewayName:fu}),f_=(0,s.Record)({credentials:fz,account:fY,gatewayType:fZ,gatewayName:fu,antiFraud:(0,s.Optional)(ft)}),f0=(0,s.Record)({gatewayType:fZ,gatewayName:fu,credentials:fz,applePayCerts:(0,s.Optional)(fy)}),f1=(0,s.Record)({gatewayType:fZ,gatewayName:fu,credentials:(0,s.Optional)(fz),applePayCerts:fy}),f2=(0,s.Union)(f1,f0),f3=(0,s.Record)({gatewayType:fZ,gatewayName:fu,account:fY}),f4=(0,s.Union)(fH,f3,fX,fP),f5=(0,s.Union)(fG,f2,fW,fO),f6=(0,s.Union)(fC,f$,fS,fK),f7=(0,s.Union)(fD,f_,fT,fL),f8=(0,s.Record)({identity:s.String,paymentMethodId:s.String}),f9=(0,s.Record)({identity:s.String}),ga=(0,s.Record)({sourceIdentity:s.String,newOwnerIdentity:s.String,gatewayName:s.String,paymentMethodId:s.String}),gb=s.String,gc=s.String,gd=s.String,ge=(0,s.Optional)(s.String),gf=s.String,gg=s.String,gh=s.String,gi=s.String,gj=s.String,gk=s.String,gl=(0,s.Optional)(s.String),gm=(0,s.Optional)(s.String),gn=s.String,go=(0,s.Record)({number:gb,securityCode:gc}),gp=(0,s.Record)({year:s.String,month:s.String}),gq=(0,s.Record)({street1:gd,street2:ge,postalCode:gf,city:gg,country:gh,state:gi,firstName:gj,lastName:gk,email:gl,phone:gm}),gr=(0,s.Record)({billTo:gq,expiration:gp,type:fs,last4:(0,s.Optional)(s.String)}),gs=(0,s.Record)({mediaType:fr,pan:go,meta:gr,gatewayName:fu,identity:s.String}),gt=(0,s.Union)(gs),gu=(0,s.Record)({active:s.Boolean,paymentMethodId:s.String,storablePanEquivalent:s.String,accountId:s.String,identity:s.String,meta:gr,gatewayName:s.String,gatewayType:(0,s.Union)((0,s.Literal)("cybersource"),(0,s.Literal)("braintree"),(0,s.Literal)("stripe")),mediaType:fr}),gv=(0,s.Union)(gu),gw=(0,s.Intersect)(gq,f8),gx=(0,s.Record)({id:s.String,quantity:s.Number,sku:s.String,name:s.String,productId:s.String,unitPrice:s.Number,unitTax:s.Number}),gy=(0,s.Record)({shippingAddress:(0,s.Optional)(gq),billingAddress:(0,s.Optional)(gq),lineItems:(0,s.Optional)((0,s.Array)(gx)),contextFields:(0,s.Optional)((0,s.Dictionary)(s.String)),deviceFingerprintId:(0,s.Optional)(s.String)}),gz=(0,s.Record)({shippingAddress:(0,s.Optional)(gq),billingAddress:gq,lineItems:(0,s.Array)(gx),contextFields:(0,s.Optional)((0,s.Dictionary)(s.String)),deviceFingerprintId:(0,s.Optional)(s.String)}),gA=(0,s.Record)({identity:s.String,paymentMethodId:s.String,totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),antiFraudContext:(0,s.Optional)(gy)}),gB=gA,gC=(0,s.Record)({gatewayName:s.String,paymentInterfaceName:s.String,paymentDataProvided:s.String,identity:s.String,totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),antiFraudContext:(0,s.Optional)(gz)}),gD=(0,s.Union)((0,s.Literal)("authorize"),(0,s.Literal)("capture")),gE=(0,s.Record)({gatewayName:s.String,paymentInterfaceName:(0,s.Literal)("applePay"),intent:(0,s.Optional)(gD),paymentDataProvided:s.String,identity:s.String,totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),antiFraudContext:gz}),gF=(0,s.Record)({gatewayName:s.String,intent:(0,s.Optional)(gD),paymentInterfaceName:(0,s.Literal)("paypal"),paymentDataProvided:s.String,identity:s.String,totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),antiFraudContext:gz}),gG=(0,s.Union)(gE,gF),gH=(0,s.Record)({paymentId:s.String,paymentMethodId:s.String,paymentIntentSecret:(0,s.Optional)(s.String)}),gI=(0,s.Intersect)(gB,gH,(0,s.Record)({accountId:fx})),gJ=(0,s.Record)({identity:fw,paymentId:gn}),gK=(0,s.Record)({identity:fw}),gL=(0,s.Record)({identity:fw,gatewayName:fu,validationUrl:s.String}),gM=(0,s.Record)({epochTimestamp:s.Number,expiresAt:s.Number,merchantSessionIdentifier:s.String,nonce:s.String,merchantIdentifier:s.String,domainName:s.String,displayName:s.String,signature:s.String,operationalAnalyticsIdentifier:s.String,retries:s.Number,pspId:s.String}),gN=(0,s.Record)({written:s.Boolean}),gO=(0,s.Record)({mediaType:fr,storablePanEquivalent:s.String,meta:gr,gatewayName:fu}),gP=(0,s.Union)(gO),gQ=(0,s.Intersect)(gP,(0,s.Record)({identity:s.String,paymentMethodId:s.String})),gR=(0,s.Record)({paymentMethods:(0,s.Array)(gQ)}),gS="api.cscpaymentsservices.com",gT="payments",gU="global",gV={receives:s.Void,method:f.GET,composePath:function(){return"/gateway"},returns:(0,s.Array)(f6)},gW={receives:fv,method:f.GET,composePath:function(a){return"/gateway/"+a.gatewayName},returns:f6},gX={receives:fv,method:f.DELETE,composePath:function(a){return"/gateway/"+a.gatewayName},returns:gN},gY={receives:f4,method:f.PUT,composePath:function(a){return"/gateway/"+a.gatewayName+"/account"},composeBody:function(a){var b=a.account,c=a.gatewayType;return{account:b,gatewayType:c}},returns:gN},gZ={receives:f5,method:f.PUT,composePath:function(a){return"/gateway/"+a.gatewayName+"/credentials"},composeBody:function(a){var b=a.credentials,c=a.gatewayType,d=a.applePayCerts;return{credentials:b,gatewayType:c,applePayCerts:d}},returns:gN},g$={receives:f7,method:f.POST,composePath:function(a){return"/gateway/"+a.gatewayName},composeBody:function(a){var b=a.gatewayType,c=a.account,d=a.credentials;return{account:c,credentials:d,gatewayType:b}},returns:f6},g_={receives:gQ,method:f.PUT,composePath:function(a){var b=a.identity,c=a.paymentMethodId;return"/identity/"+encodeURIComponent(b)+"/paymentMethods/"+c+"/import"},composeBody:function(a){var b=a.mediaType,c=a.storablePanEquivalent,d=a.meta,e=a.gatewayName;return{mediaType:b,storablePanEquivalent:c,meta:d,gatewayName:e}},returns:gv},g0={receives:gR,method:f.PUT,composePath:function(){return"/paymentMethodBatch"},composeBody:function(a){return{paymentMethods:a.paymentMethods}},returns:(0,s.Record)({paymentMethods:(0,s.Array)(gv)})},g1={receives:gt,method:f.POST,composePath:function(a){return"/identity/"+encodeURIComponent(a.identity)+"/paymentMethods"},composeBody:function(a){var b=a.mediaType,c=a.pan,d=a.meta,e=a.gatewayName;return{mediaType:b,pan:c,meta:d,gatewayName:e}},returns:gv},g2={receives:ga,method:f.POST,composePath:function(a){var b=a.sourceIdentity,c=a.paymentMethodId;return"/identity/"+encodeURIComponent(b)+"/paymentMethods/"+c+"/copy"},composeBody:function(a){var b=a.newOwnerIdentity,c=a.gatewayName;return{newOwnerIdentity:b,gatewayName:c}},returns:gv},g3={receives:f8,method:f.GET,composePath:function(a){var b=a.identity,c=a.paymentMethodId;return"/identity/"+encodeURIComponent(b)+"/paymentMethods/"+c},returns:gv},g4={receives:f9,method:f.GET,composePath:function(a){return"/identity/"+encodeURIComponent(a.identity)+"/paymentMethods"},returns:(0,s.Array)(gv)},g5={receives:f8,method:f.DELETE,composePath:function(a){var b=a.identity,c=a.paymentMethodId;return"/identity/"+encodeURIComponent(b)+"/paymentMethods/"+c},returns:gv},g6={receives:gw,method:f.PUT,composePath:function(a){var b=a.identity,c=a.paymentMethodId;return"/identity/"+encodeURIComponent(b)+"/paymentMethods/"+c+"/address"},composeBody:function(a){var b=a.street1,c=a.street2,d=a.postalCode,e=a.city,f=a.country,g=a.state,h=a.firstName,i=a.lastName,j=a.email,k=a.phone;return{street1:b,street2:c,postalCode:d,city:e,country:f,state:g,firstName:h,lastName:i,email:j,phone:k}},returns:gv},g7={receives:gB,method:f.POST,composePath:function(a){var b=a.identity,c=a.paymentMethodId;return"/identity/"+encodeURIComponent(b)+"/paymentMethods/"+c+"/payment"},composeBody:function(a){var b=a.totalAmount,c=a.paymentReferenceId,d=a.antiFraudContext;return{totalAmount:b,paymentReferenceId:c,antiFraudContext:d}},returns:gH},g8={receives:gJ,method:f.GET,composePath:function(a){var b=a.identity,c=a.paymentId;return"/identity/"+encodeURIComponent(b)+"/payment/"+c},returns:gI},g9={receives:gK,method:f.GET,composePath:function(a){return"/identity/"+encodeURIComponent(a.identity)+"/payment"},returns:(0,s.Record)({payments:(0,s.Array)(gI)})},ha={receives:gL,method:f.POST,composePath:function(a){return"/identity/"+encodeURIComponent(a.identity)+"/paymentMethods/getApplePaySession"},composeBody:function(a){var b=a.validationUrl,c=a.gatewayName;return{validationUrl:b,gatewayName:c}},returns:gM},hb={receives:gC,method:f.POST,composePath:function(a){return"/identity/"+encodeURIComponent(a.identity)+"/paymentMethods/payWithPaymentInterface"},composeBody:function(a){return a},returns:gH},hc={receives:gG,method:f.POST,composePath:function(a){return"/identity/"+encodeURIComponent(a.identity)+"/paymentMethods/payWithoutSavedMethod"},composeBody:function(a){return a},returns:gH},hd=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||gS,service:gT,region:gU,credentials:c}),f=fp({host:d||gS,service:gT,region:gU,credentials:c}),g=fq({host:d||gS});return{listGateways:e(gV),getGateway:e(gW),deleteGateway:e(gX),updateGatewayAccount:e(gY),updateGatewayCredentials:e(gZ),createGateway:e(g$),importPaymentMethod:e(g_),batchImportPaymentMethod:e(g0),createPaymentMethod:e(g1),getPaymentMethod:e(g3),copyPaymentMethod:e(g2),presignCopyPaymentMethod:f(g2),presignedCopyPaymentMethod:g(g2),listPaymentMethods:e(g4),deletePaymentMethod:e(g5),updatePaymentMethodAddress:e(g6),payWithPaymentMethod:e(g7),presignPayWithPaymentMethod:f(g7),presignedPayWithPaymentMethod:g(g7),payWithPaymentInterface:e(hb),payWithoutSavedMethod:e(hc),getPayment:e(g8),listPayments:e(g9),getApplePaySession:e(ha)}};hd.signature={listGateways:gV,getApplePaySession:ha,getGateway:gW,deleteGateway:gX,updateGatewayAccount:gY,updateGatewayCredentials:gZ,createGateway:g$,createPaymentMethod:g1,importPaymentMethod:g_,batchImportPaymentMethod:g0,getPaymentMethod:g3,copyPaymentMethod:g2,listPaymentMethods:g4,deletePaymentMethod:g5,updatePaymentMethodAddress:g6,payWithPaymentMethod:g7,payWithPaymentInterface:hb,payWithoutSavedMethod:hc,getPayment:g8,listPayments:g9};var he=s.String,hf=(0,s.Record)({version:he}),hg=(0,s.Intersect)(s.Unknown,hf),hh={receives:hg,method:f.GET,composePath:function(a){return"/specification/"+a.version+"/openapi.json"},returns:(0,s.Record)({})},hi=(0,s.Record)({page:(0,s.Optional)(s.String),limit:(0,s.Optional)(s.String),orderBy:(0,s.Optional)(s.String),readConsistency:(0,s.Optional)((0,s.Union)((0,s.Literal)("weakRead"),(0,s.Literal)("strongRead")))}),hj=(0,s.Record)({includeFields:(0,s.Optional)(s.String),include:(0,s.Optional)(s.String)}),hk=(0,s.Record)({total:s.Number,count:s.Number,perPage:s.Number,currentPage:s.Number,totalPages:s.Number,links:(0,s.Record)({previous:s.String,current:s.String,next:s.String})}),hl=(0,n.object)({pagination:(0,n.object)({resourceName:(0,n.string)(),total:(0,n.number)(),count:(0,n.number)(),limit:(0,n.number)(),links:(0,n.object)({previous:(0,n.optional)((0,n.string)()),current:(0,n.optional)((0,n.string)()),next:(0,n.optional)((0,n.string)())})})}),hm=(0,s.Record)({pagination:hk}),hn=(0,s.Record)({siteId:(0,s.Optional)(s.String)}),ho={siteId:(0,n.optional)((0,n.string)())},hp=(0,s.Record)({viewId:(0,s.Optional)(s.String)}),hq={viewId:(0,n.optional)((0,n.string)())},hr=(0,s.Record)({downloadUrl:s.String,downloadUrls:(0,s.Record)({errorFile:s.String,originalFile:s.String}),statusDescription:(0,s.Record)({})}),hs=s.String,ht=(0,s.Record)({site:hs}),hu=(0,s.Record)({id:hs,displayName:(0,s.Optional)(s.String),systemName:(0,s.Optional)(s.String),description:(0,s.Optional)(s.String),resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:Site"))}),hv=(0,s.Intersect)(s.Unknown,hi,hj),hw=(0,s.Record)({displayName:s.String,systemName:s.String,description:s.String}),hx=(0,s.Intersect)(s.Unknown,hw),hy=(0,s.Record)({displayName:(0,s.Optional)(s.String),description:(0,s.Optional)(s.String)}),hz=(0,s.Intersect)(ht,hy),hA={receives:hv,method:f.GET,composePath:function(){return"/sites"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.include,f=a.includeFields;return{page:b,limit:c,orderBy:d,include:e,includeFields:f}},returns:(0,s.Record)({data:(0,s.Array)(hu),meta:hm})},hB={receives:ht,method:f.GET,composePath:function(a){return"/sites/"+a.site},composeParams:function(a){var b=a.includeFields,c=a.include;return{includeFields:b,include:c}},returns:hu},hC={receives:hx,method:f.POST,composePath:function(){return"/sites"},composeBody:function(a){var b=a.systemName,c=a.displayName,d=a.description;return{systemName:b,displayName:c,description:d}},returns:(0,s.Record)({details:(0,s.Record)({id:hs})})},hD={receives:hz,method:f.PUT,composePath:function(a){return"/sites/"+a.site},composeBody:function(a){var b=a.displayName,c=a.description;return{displayName:b,description:c}},returns:(0,s.Record)({})},hE={receives:ht,method:f.DELETE,composePath:function(a){return"/sites/"+a.site},returns:(0,s.Record)({})},hF=s.String,hG=(0,s.Record)({attribute:hF}),hH=(0,s.Record)({id:hF,resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:Attribute")),displayName:(0,s.Optional)(s.String),systemName:(0,s.Optional)(s.String),description:(0,s.Optional)(s.String),dataType:(0,s.Optional)(s.String),createdAt:(0,s.Optional)(s.String),updatedAt:(0,s.Optional)(s.String),required:(0,s.Optional)(s.Boolean),allowMultiple:(0,s.Optional)((0,s.Union)(s.Boolean,s.Null)),allowDecimals:(0,s.Optional)((0,s.Union)(s.Boolean,s.Null)),widget:(0,s.Optional)((0,s.Union)(s.String,s.Null)),pattern:(0,s.Optional)((0,s.Union)(s.String,s.Null)),minValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null)),maxValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null)),allowedValues:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String),(0,s.Array)(s.Number)))}),hI=(0,s.Union)(s.String,s.Number,s.Boolean),hJ=(0,n.union)((0,n.string)(),(0,n.number)(),(0,n.bool)()),hK=(0,s.Record)({id:s.String,value:(0,s.Union)(s.Null,(0,s.Array)(hI))}),hL=(0,n.object)({id:(0,n.string)(),value:(0,n.nullable)((0,n.array)(hJ))}),hM=(0,s.Intersect)(s.Unknown,hi,hj,hn),hN=(0,s.Intersect)(hG,hj,hn),hO=(0,s.Intersect)(hG,hn),hP=(0,s.Record)({displayName:s.String,systemName:s.String,description:s.String,dataType:s.String,required:s.Boolean,widget:(0,s.Optional)((0,s.Union)(s.String,s.Null)),allowMultiple:(0,s.Optional)(s.Boolean),allowDecimals:(0,s.Optional)(s.Boolean),pattern:(0,s.Optional)((0,s.Union)(s.String,s.Null)),allowedValues:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String),(0,s.Array)(s.Number))),minValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null)),maxValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null))}),hQ=(0,s.Intersect)(s.Unknown,hP,hn),hR=(0,s.Record)({displayName:(0,s.Optional)(s.String),description:(0,s.Optional)(s.String),dataType:(0,s.Optional)(s.String),required:(0,s.Optional)(s.Boolean),widget:(0,s.Optional)((0,s.Union)(s.String,s.Null)),allowMultiple:(0,s.Optional)(s.Boolean),allowDecimals:(0,s.Optional)(s.Boolean),pattern:(0,s.Optional)((0,s.Union)(s.String,s.Null)),minValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null)),maxValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null)),allowedValues:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String),(0,s.Array)(s.Number)))}),hS=(0,s.Intersect)(hG,hR,hn),hT=(0,n.object)({attribute:(0,n.string)(),size:(0,n.optional)((0,n.number)()),cutoff:(0,n.optional)((0,n.number)())}),hU=function(a){return void 0===a?void 0:a.toString()},hV=(0,n.object)({total:(0,n.number)(),numBuckets:(0,n.number)(),truncated:(0,n.bool)(),buckets:(0,n.dict)((0,n.number)())}),hW={receives:hM,method:f.GET,composePath:function(){return"/attributes"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.include,f=a.includeFields,g=a.siteId;return{page:b,limit:c,orderBy:d,include:e,includeFields:f,siteId:g}},returns:(0,s.Record)({data:(0,s.Array)(hH),meta:hm})},hX={receives:hN,method:f.GET,composePath:function(a){return"/attributes/"+a.attribute},composeParams:function(a){var b=a.includeFields,c=a.include,d=a.siteId;return{includeFields:b,include:c,siteId:d}},returns:hH},hY={receives:hQ,method:f.POST,composePath:function(){return"/attributes"},composeBody:function(a){var b=a.systemName,c=a.displayName,d=a.description,e=a.required,f=a.allowMultiple,g=a.dataType,h=a.widget,i=a.allowedValues,j=a.allowDecimals,k=a.minValue,l=a.maxValue,m=a.pattern;return{systemName:b,displayName:c,description:d,required:e,widget:h,allowMultiple:f,allowedValues:i,allowDecimals:j,maxValue:l,minValue:k,pattern:m,dataType:g}},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({details:(0,s.Record)({id:hF})})},hZ={receives:hS,method:f.PUT,composePath:function(a){return"/attributes/"+a.attribute},composeBody:function(a){var b=a.displayName,c=a.description,d=a.required,e=a.widget,f=a.allowMultiple,g=a.allowedValues,h=a.allowDecimals,i=a.minValue,j=a.maxValue,k=a.pattern,l=a.dataType;return{displayName:b,description:c,required:d,widget:e,allowMultiple:f,allowedValues:g,allowDecimals:h,maxValue:j,minValue:i,pattern:k,dataType:l}},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},h$={receives:hO,method:f.DELETE,composePath:function(a){return"/attributes/"+a.attribute},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},h_={receives:hT,method:f.GET,composePath:function(a){return"/attributes/"+a.attribute+"/aggregations/products"},composeParams:function(a){var b=a.size,c=a.cutoff;return{size:hU(b),cutoff:hU(c)}},returns:hV},h0=["page","limit","orderBy","include","includeFields","siteId","readConsistency"],h1=s.String,h2=(0,s.Record)({collection:h1}),h3=(0,s.Optional)(s.String),h4=(0,s.Record)(["sites","sites:in","createdAt","createdAt:in","createdAt:eq","createdAt:lt","createdAt:lte","createdAt:gt","createdAt:gte","updatedAt","updatedAt:in","updatedAt:eq","updatedAt:lt","updatedAt:lte","updatedAt:gt","updatedAt:gte","parents","parents:in","children","children:in","groups","groups:in"].reduce(function(a,b){return a[b]=h3,a},{})),h5=(0,s.Intersect)(h4,(0,s.Record)({id:h3,"id:in":h3,"id:match":h3})),h6=(0,s.Record)({id:h1,resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:Collection")),createdAt:(0,s.Optional)(s.String),updatedAt:(0,s.Optional)(s.String),displayName:(0,s.Optional)(s.String),systemName:(0,s.Optional)(s.String)}),h7=(0,s.Record)({displayName:(0,s.Optional)(s.String),systemName:(0,s.Optional)(s.String),attributes:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(hK))),sites:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String))),groups:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String))),parents:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String)))}),h8=(0,s.Intersect)(s.Unknown,h7,hn),h9={receives:h8,method:f.POST,composePath:function(){return"/collections"},composeBody:function(a){var b=a.systemName,c=a.displayName,d=a.attributes,e=a.groups,f=a.parents,g=a.sites;return{systemName:b,displayName:c,attributes:d,groups:e,parents:f,sites:g}},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({details:(0,s.Record)({id:h1})})},ia=(0,s.Record)({displayName:(0,s.Optional)(s.String),attributes:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(hK))),sites:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String))),groups:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String))),parents:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String)))}),ib=(0,s.Intersect)(h2,ia,hn),ic={receives:ib,method:f.PUT,composePath:function(a){return"/collections/"+a.collection},composeBody:function(a){var b=a.displayName,c=a.attributes,d=a.groups,e=a.parents,f=a.sites;return{displayName:b,attributes:c,groups:d,parents:e,sites:f}},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},id=(0,s.Intersect)(s.Unknown,hi,hj,hn,h5),ie={receives:id,method:f.GET,composePath:function(){return"/collections"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.include,f=a.includeFields,g=a.siteId,h=a.readConsistency,i=H(a,h0);return D({page:b,limit:c,orderBy:d,include:e,includeFields:f,siteId:g,readConsistency:h},i)},returns:(0,s.Record)({data:(0,s.Array)(h6),meta:hm})},ig=(0,s.Intersect)(h2,hj,hn),ih={receives:ig,method:f.GET,composePath:function(a){return"/collections/"+a.collection},composeParams:function(a){var b=a.includeFields,c=a.include,d=a.siteId;return{includeFields:b,include:c,siteId:d}},returns:h6},ii=(0,s.Record)({id:h1,name:s.String,parentId:(0,s.Optional)(h1)}),ij={receives:s.Void,method:f.GET,composePath:function(){return"/collections/trees"},returns:(0,s.Record)({data:(0,s.Array)(ii)})},ik=(0,s.Intersect)(h2,hn),il={receives:ik,method:f.DELETE,composePath:function(a){return"/collections/"+a.collection},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},im=(0,s.Intersect)((0,s.Record)({collection:h1,configurationType:(0,s.Union)((0,s.Literal)("1"),(0,s.Literal)("2"))}),hn),io=(0,s.Record)({groupId:s.String,groupName:s.String,attributes:(0,s.Array)((0,s.Record)({attributeId:s.String,attributeName:s.String,dataType:s.String,required:s.Boolean,widget:(0,s.Optional)((0,s.Union)(s.String,s.Null)),allowedValues:(0,s.Optional)((0,s.Union)((0,s.Array)((0,s.Union)(s.String,s.Number)),s.Null)),allowMultiple:(0,s.Optional)((0,s.Union)(s.Boolean,s.Null)),allowDecimals:(0,s.Optional)((0,s.Union)(s.Boolean,s.Null)),minValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null)),maxValue:(0,s.Optional)((0,s.Union)(s.Number,s.Null)),pattern:(0,s.Optional)((0,s.Union)(s.String,s.Null))}))}),ip={receives:im,method:f.GET,composePath:function(a){var b=a.collection,c=a.configurationType;return"/collections/"+b+"/configuration/"+c},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({data:(0,s.Array)(io)})},iq=["page","limit","orderBy","include","includeFields","readConsistency","viewId"],ir=["includeFields","include","viewId"],is=s.String,it=(0,n.string)(),iu=(0,s.Record)({product:is}),iv=(0,s.Optional)(s.String),iw=(0,n.object)({action:(0,n.literal)("ADD"),id:(0,n.string)()}),ix=(0,n.object)({action:(0,n.literal)("REMOVE"),id:(0,n.string)()}),iy=(0,n.object)({action:(0,n.literal)("REMOVE_ALL")}),iz=(0,n.union)(iw,ix,iy),iA=(0,s.Record)(["siteId","siteId:in","sites","sites:in","collectionId","collectionId:in","collections","collections:in","createdAt","createdAt:in","createdAt:eq","createdAt:lt","createdAt:lte","createdAt:gt","createdAt:gte","updatedAt","updatedAt:in","updatedAt:eq","updatedAt:lt","updatedAt:lte","updatedAt:gt","updatedAt:gte","bases","bases:in","variants","variants:in"].reduce(function(a,b){return a[b]=iv,a},{})),iB=(0,s.Intersect)(iA,(0,s.Record)({id:iv,"id:in":iv,"id:match":iv})),iC=(0,s.Record)({id:is,resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:Product")),createdAt:(0,s.Optional)(s.String),updatedAt:(0,s.Optional)(s.String),systemName:(0,s.Optional)(s.String),attributes:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(hK))),collections:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String))),bases:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String))),variants:(0,s.Optional)((0,s.Union)(s.Null,(0,s.Array)(s.String)))}),iD=(0,n.object)({id:it,resourceType:(0,n.optional)((0,n.literal)("pim:Resource:Product")),collections:(0,n.optional)((0,n.nullable)((0,n.array)((0,n.string)()))),bases:(0,n.optional)((0,n.nullable)((0,n.array)((0,n.string)()))),variants:(0,n.optional)((0,n.nullable)((0,n.array)((0,n.string)()))),createdAt:(0,n.optional)((0,n.string)()),updatedAt:(0,n.optional)((0,n.string)()),systemName:(0,n.optional)((0,n.string)()),attributes:(0,n.optional)((0,n.nullable)((0,n.array)(hL)))}),iE={attributes:(0,n.nullable)((0,n.array)(hL)),bases:(0,n.nullable)((0,n.array)((0,n.union)((0,n.string)(),iz))),collections:(0,n.nullable)((0,n.array)((0,n.union)((0,n.string)(),iz))),sites:(0,n.nullable)((0,n.array)((0,n.string)()))},iF=(0,n.object)(D({systemName:(0,n.string)()},iE,ho,hq)),iG=(0,n.object)({productId:(0,n.string)(),baseProductId:(0,n.optional)((0,n.union)((0,n.string)(),iz)),collections:(0,n.array)((0,n.union)((0,n.string)(),iz)),attributes:(0,n.writableArray)(hL)}),iH=(0,n.object)({writeMode:(0,n.optional)((0,n.string)()),viewId:(0,n.optional)((0,n.string)()),site:(0,n.string)(),products:(0,n.writableArray)(iG)}),iI={receives:iH,method:f.POST,composePath:function(){return"/products/batch"},composeParams:function(a){var b=a.writeMode,c=a.viewId;return{writeMode:b,viewId:c}},composeBody:function(a){var b=a.site,c=a.products;return{site:b,products:c}},returns:(0,s.Record)({})},iJ={receives:iF,method:f.POST,composePath:function(){return"/products"},composeBody:function(a){var b=a.systemName,c=a.attributes,d=a.sites,e=a.collections,f=a.bases;return{systemName:b,attributes:c,sites:d,collections:e,bases:f}},composeParams:function(a){var b=a.siteId,c=a.viewId;return{siteId:b,viewId:c}},returns:(0,s.Record)({details:(0,s.Record)({id:is})})},iK=(0,n.object)(D({product:(0,n.string)()},iE,ho,hq)),iL={receives:iK,method:f.PUT,composePath:function(a){return"/products/"+a.product},composeBody:function(a){var b=a.attributes,c=a.bases,d=a.sites,e=a.collections;return{attributes:b,bases:c,sites:d,collections:e}},composeParams:function(a){var b=a.siteId,c=a.viewId;return{siteId:b,viewId:c}},returns:(0,s.Record)({})},iM=(0,s.Intersect)(s.Unknown,hi,hj,iB,hp),iN={receives:iM,method:f.GET,composePath:function(){return"/products"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.include,f=a.includeFields,g=a.readConsistency,h=a.viewId,i=H(a,iq);return D({page:b,limit:c,orderBy:d,include:e,includeFields:f,readConsistency:g,viewId:h},i)},returns:(0,s.Record)({data:(0,s.Array)(iC),meta:hm})},iO=(0,n.object)({key:(0,n.string)(),operator:(0,n.union)((0,n.literal)("in"),(0,n.literal)("notIn"),(0,n.literal)("eq"),(0,n.literal)("neq"),(0,n.literal)("lte"),(0,n.literal)("lt"),(0,n.literal)("gt"),(0,n.literal)("gte"),(0,n.literal)("match"),(0,n.literal)("prefix"),(0,n.literal)("exists"),(0,n.literal)("notExists")),value:(0,n.optional)((0,n.array)((0,n.union)((0,n.bool)(),(0,n.number)(),(0,n.string)())))}),iP=(0,n.object)({field:(0,n.string)(),descending:(0,n.bool)()}),iQ=(0,n.object)({limit:(0,n.optional)((0,n.number)()),paginationToken:(0,n.optional)((0,n.string)()),orderBy:(0,n.optional)((0,n.array)(iP)),viewId:(0,n.optional)((0,n.string)()),keepAlive:(0,n.optional)((0,n.string)())}),iR=(0,n.object)({search:(0,n.array)(iO),meta:(0,n.optional)(iQ)}),iS={receives:iR,method:f.POST,composePath:function(){return"/products/search"},composeBody:function(a){return D({},a)},returns:(0,n.object)({data:(0,n.array)(iD),meta:hl})},iT=(0,s.Intersect)(iu,hj,iA,hp),iU={receives:iT,method:f.GET,composePath:function(a){return"/products/"+a.product},composeParams:function(a){var b=a.includeFields,c=a.include,d=a.viewId,e=H(a,ir);return D({includeFields:b,include:c,viewId:d},e)},returns:iC},iV=(0,s.Intersect)(iu,hn),iW={receives:iV,method:f.DELETE,composePath:function(a){return"/products/"+a.product},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},iX=(0,s.Record)({id:s.String,resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:AttributeSiteAttachment")),attribute:(0,s.Optional)((0,s.Union)(s.String,hH)),site:(0,s.Optional)((0,s.Union)(s.String,hu)),createdAt:(0,s.Optional)(s.String),updatedAt:(0,s.Optional)(s.String)}),iY=(0,s.Intersect)(s.Unknown,hG,hi,hn),iZ=(0,s.Intersect)(ht,hG,hj),i$={receives:iY,method:f.GET,composePath:function(a){return"/attributes/"+a.attribute+"/sites/attachments"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.siteId;return{page:b,limit:c,orderBy:d,siteId:e}},returns:(0,s.Record)({data:(0,s.Array)(iX),meta:hm})},i_={receives:iZ,method:f.GET,composePath:function(a){var b=a.attribute,c=a.site;return"/attributes/"+b+"/sites/"+c+"/attachment"},returns:iX},i0={receives:iZ,method:f.PUT,composePath:function(a){var b=a.attribute,c=a.site;return"/attributes/"+b+"/sites/"+c+"/attachment"},returns:(0,s.Record)({written:s.Boolean})},i1={receives:iZ,method:f.DELETE,composePath:function(a){var b=a.attribute,c=a.site;return"/attributes/"+b+"/sites/"+c+"/attachment"},returns:(0,s.Record)({})},i2=s.String,i3=(0,s.Record)({group:i2}),i4=(0,s.Record)({id:i2,resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:Group")),displayName:(0,s.Optional)(s.String),systemName:(0,s.Optional)(s.String),description:(0,s.Optional)(s.String),assignableEntities:(0,s.Optional)(s.String),createdAt:(0,s.Optional)(s.String),updatedAt:(0,s.Optional)(s.String),attributes:(0,s.Optional)((0,s.Array)(s.String))}),i5=(0,s.Intersect)(s.Unknown,hi,hj,hn),i6=(0,s.Intersect)(i3,hj,hn),i7=(0,s.Intersect)(i3,hn),i8=(0,s.Record)({displayName:s.String,systemName:s.String,description:s.String,assignableEntities:s.String}),i9=(0,s.Intersect)(s.Unknown,i8,hn),ja=(0,s.Record)({displayName:(0,s.Optional)(s.String),description:(0,s.Optional)(s.String),assignableEntities:(0,s.Optional)(s.String)}),jb=(0,s.Intersect)(i3,ja,hn),jc={receives:i5,method:f.GET,composePath:function(){return"/groups"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.include,f=a.includeFields,g=a.siteId;return{page:b,limit:c,orderBy:d,include:e,includeFields:f,siteId:g}},returns:(0,s.Record)({data:(0,s.Array)(i4),meta:hm})},jd={receives:i6,method:f.GET,composePath:function(a){return"/groups/"+a.group},composeParams:function(a){var b=a.includeFields,c=a.include,d=a.siteId;return{includeFields:b,include:c,siteId:d}},returns:i4},je={receives:i9,method:f.POST,composePath:function(){return"/groups"},composeBody:function(a){var b=a.systemName,c=a.displayName,d=a.description,e=a.assignableEntities;return{systemName:b,displayName:c,description:d,assignableEntities:e}},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({details:(0,s.Record)({id:i2})})},jf={receives:jb,method:f.PUT,composePath:function(a){return"/groups/"+a.group},composeBody:function(a){var b=a.displayName,c=a.description,d=a.assignableEntities;return{displayName:b,description:c,assignableEntities:d}},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},jg={receives:i7,method:f.DELETE,composePath:function(a){return"/groups/"+a.group},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},jh=(0,s.Record)({id:s.String,resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:GroupSiteAttachment")),group:(0,s.Optional)((0,s.Union)(s.String,i4)),site:(0,s.Optional)((0,s.Union)(s.String,hu)),createdAt:(0,s.Optional)(s.String),updatedAt:(0,s.Optional)(s.String)}),ji=(0,s.Intersect)(s.Unknown,i3,hi,hn),jj=(0,s.Intersect)(i3,ht,hj,hn),jk={receives:ji,method:f.GET,composePath:function(a){return"/groups/"+a.group+"/sites/attachments"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.siteId;return{page:b,limit:c,orderBy:d,siteId:e}},returns:(0,s.Record)({data:(0,s.Array)(jh),meta:hm})},jl={receives:jj,method:f.GET,composePath:function(a){var b=a.group,c=a.site;return"/groups/"+b+"/sites/"+c+"/attachment"},returns:jh},jm={receives:jj,method:f.PUT,composePath:function(a){var b=a.group,c=a.site;return"/groups/"+b+"/sites/"+c+"/attachment"},returns:(0,s.Record)({written:s.Boolean})},jn={receives:jj,method:f.DELETE,composePath:function(a){var b=a.group,c=a.site;return"/groups/"+b+"/sites/"+c+"/attachment"},returns:(0,s.Record)({})},jo=(0,s.Record)({id:s.String,resourceType:(0,s.Optional)((0,s.Literal)("pim:Resource:GroupAttributeAttachment")),ordinal:(0,s.Optional)((0,s.Union)(s.Null,s.Number)),attribute:(0,s.Optional)((0,s.Union)(s.String,hH)),group:(0,s.Optional)((0,s.Union)(s.String,i4)),createdAt:(0,s.Optional)(s.String),updatedAt:(0,s.Optional)(s.String)}),jp=(0,s.Intersect)(s.Unknown,i3,hG,hn),jq=(0,s.Record)({ordinal:(0,s.Optional)(s.Number)}),jr=(0,s.Intersect)(s.Unknown,i3,hG,jq,hn),js=(0,s.Intersect)(s.Unknown,i3,hi,hn),jt=(0,s.Intersect)(i3,hG,hj,hn),ju={receives:js,method:f.GET,composePath:function(a){return"/groups/"+a.group+"/attributes/attachments"},composeParams:function(a){var b=a.page,c=a.limit,d=a.orderBy,e=a.siteId;return{page:b,limit:c,orderBy:d,siteId:e}},returns:(0,s.Record)({data:(0,s.Array)(jo),meta:hm})},jv={receives:jt,method:f.GET,composePath:function(a){var b=a.group,c=a.attribute;return"/groups/"+b+"/attributes/"+c+"/attachment"},composeParams:function(a){return{siteId:a.siteId}},returns:jo},jw={receives:jp,method:f.PUT,composePath:function(a){var b=a.group,c=a.attribute;return"/groups/"+b+"/attributes/"+c+"/attachment"},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({written:s.Boolean})},jx={receives:jr,method:f.PATCH,composePath:function(a){var b=a.group,c=a.attribute;return"/groups/"+b+"/attributes/"+c+"/attachment"},composeBody:function(a){return{ordinal:a.ordinal}},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},jy={receives:jt,method:f.DELETE,composePath:function(a){var b=a.group,c=a.attribute;return"/groups/"+b+"/attributes/"+c+"/attachment"},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},jz=(0,s.Record)({siteId:s.String,fileName:s.String,resourceType:s.String}),jA=(0,s.Record)({uploadUrl:s.String,scope:s.String,transactionId:s.Number,status:(0,s.Record)({url:s.String})}),jB=(0,s.Intersect)(s.Unknown,jz),jC={receives:jB,method:f.POST,composePath:function(){return"/import/init"},composeBody:function(a){var b=a.siteId,c=a.fileName,d=a.resourceType;return{siteId:b,fileName:c,resourceType:d}},returns:jA},jD=(0,s.Record)({siteId:s.String,transactionId:s.Number,resourceType:s.String,scope:s.String,writeMode:(0,s.Optional)(s.String)}),jE=(0,s.Intersect)(s.Unknown,jD,hp),jF={receives:jE,method:f.POST,composePath:function(){return"/import/execute"},composeParams:function(a){return{writeMode:a.writeMode}},composeBody:function(a){var b=a.siteId,c=a.transactionId,d=a.resourceType,e=a.scope,f=a.viewId;return{siteId:b,transactionId:c,resourceType:d,scope:e,viewId:f}},returns:(0,s.Record)({message:s.String})},jG=(0,s.Record)({siteId:s.String,resourceType:(0,s.Optional)(s.String)}),jH=(0,s.Record)({Scope:s.String,TransactionId:s.Number,Site:s.String,ResourceType:s.String,User:s.String,StatusId:s.Number,TimeToLive:(0,s.Optional)(s.Number),NeptuneLoadId:(0,s.Optional)(s.String),ErrorS3File:(0,s.Optional)(s.String),LoaderS3File:(0,s.Optional)(s.String),UploadFileKey:(0,s.Optional)(s.String)}),jI={receives:jG,method:f.GET,composePath:function(a){var b=a.siteId,c=a.resourceType;return c?"/import/sites/"+b+"/resources/"+c+"}":"/import/sites/"+b},returns:(0,s.Record)({data:(0,s.Array)(jH),meta:(0,s.Record)({statusDescription:(0,s.Record)({})})})},jJ=(0,s.Record)({siteId:s.String,resourceType:s.String,transactionId:s.String}),jK={receives:jJ,method:f.GET,composePath:function(a){var b=a.siteId,c=a.resourceType,d=a.transactionId;return"/import/sites/"+b+"/resources/"+c+"/transactions/"+d},returns:(0,s.Record)({data:jH,meta:hr})},jL=(0,n.union)((0,n.literal)("product")),jM=(0,n.object)({meta:(0,n.optional)((0,n.object)({viewId:(0,n.optional)((0,n.string)()),orderBy:(0,n.optional)((0,n.array)(iP))})),search:(0,n.array)(iO)}),jN=(0,n.object)({resourceType:jL,body:(0,n.union)(jM)}),jO=(0,n.object)({transactionId:(0,n.number)(),status:(0,n.object)({url:(0,n.string)()})}),jP=(0,n.object)({BaseProductsFile:(0,n.optional)((0,n.string)()),ResourceType:jL,Scope:(0,n.optional)((0,n.string)()),Site:(0,n.string)(),StatusId:(0,n.number)(),TimeToLive:(0,n.optional)((0,n.number)()),TransactionId:(0,n.number)(),User:(0,n.optional)((0,n.string)()),VariantProductsFile:(0,n.optional)((0,n.string)())}),jQ=(0,n.union)(jP),jR=(0,n.object)({siteId:(0,n.string)(),resourceType:jL}),jS=(0,n.object)({data:(0,n.array)(jQ),meta:(0,n.object)({statusDescription:(0,n.dict)((0,n.string)())})}),jT=(0,n.object)({data:(0,n.optional)(jQ),meta:(0,n.object)({statusDescription:(0,n.dict)((0,n.string)()),downloadUrl:(0,n.nullable)((0,n.array)((0,n.string)()))})}),jU=(0,n.object)({siteId:(0,n.string)(),resourceType:jL,transactionId:(0,n.number)()}),jV={receives:jN,method:f.POST,composePath:function(a){return"/export/"+a.resourceType},composeBody:function(a){return D({},a.body)},returns:jO},jW={receives:jR,method:f.GET,composePath:function(a){var b=a.siteId,c=a.resourceType;return c?"/export/sites/"+b+"/resources/"+c:"/export/sites/"+b},returns:jS},jX={receives:jU,method:f.GET,composePath:function(a){var b=a.siteId,c=a.resourceType,d=a.transactionId;return"/export/sites/"+b+"/resources/"+c+"/transactions/"+d},returns:jT},jY=s.String,jZ=(0,s.Record)({variant:jY}),j$=s.String,j_=(0,s.Record)({base:j$}),j0=(0,s.Intersect)(jZ,j_,hn),j1={receives:j0,method:f.DELETE,composePath:function(a){var b=a.variant,c=a.base;return"/products/"+b+"/products/"+c+"/attachment"},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},j2=s.String,j3=(0,s.Record)({product:j2}),j4=s.String,j5=(0,s.Record)({collection:j4}),j6=(0,s.Intersect)(j3,j5,hn),j7={receives:j6,method:f.DELETE,composePath:function(a){var b=a.product,c=a.collection;return"/products/"+b+"/collections/"+c+"/attachment"},composeParams:function(a){return{siteId:a.siteId}},returns:(0,s.Record)({})},j8=(0,n.string)(),j9=(0,n.string)(),ka=(0,n.object)({addressableResource:j9}),kb=(0,n.object)({addressableResource:j9,viewId:j8}),kc=(0,n.object)({granularity:(0,n.string)(),id:(0,n.array)((0,n.string)())}),kd=(0,n.object)({id:(0,n.string)(),resourceType:(0,n.literal)("pim:Resource:View"),viewType:(0,n.string)(),displayName:(0,n.string)(),createdAt:(0,n.string)(),updatedAt:(0,n.string)(),data:(0,n.array)(kc),computedIds:(0,n.array)((0,n.string)())}),ke=(0,n.object)({viewId:(0,n.string)(),displayName:(0,n.string)(),addressableResource:(0,n.string)(),data:(0,n.array)(kc)}),kf=(0,n.object)({viewId:j8,addressableResource:j9,displayName:(0,n.nullable)((0,n.string)()),data:(0,n.nullable)((0,n.array)(kc))}),kg={receives:kb,method:f.GET,composePath:function(a){var b=a.addressableResource,c=a.viewId;return"/views/"+b+"/"+c},returns:(0,n.object)({data:kd,meta:(0,n.object)({})})},kh={receives:ka,method:f.GET,composePath:function(a){return"/views/"+a.addressableResource},returns:(0,n.object)({data:(0,n.array)(kd),meta:(0,n.object)({})})},ki={receives:ke,method:f.POST,composePath:function(){return"/views"},composeBody:function(a){var b=a.viewId,c=a.displayName,d=a.addressableResource,e=a.data;return{id:b,displayName:c,viewType:d,data:e}},returns:(0,n.object)({})},kj={receives:kf,method:f.PUT,composePath:function(a){var b=a.addressableResource,c=a.viewId;return"/views/"+b+"/"+c},composeBody:function(a){var b=a.displayName,c=a.data;return{displayName:b,data:c}},returns:(0,n.object)({})},kk={receives:kb,method:f.DELETE,composePath:function(a){var b=a.addressableResource,c=a.viewId;return"/views/"+b+"/"+c},returns:(0,n.mixed)()},kl=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:void 0===d?"api.cscpim.com":d,service:"pim",region:"global",credentials:c});return{getApiSpecification:e(hh),listSites:e(hA),getSite:e(hB),createSite:e(hC),updateSite:e(hD),deleteSite:e(hE),listAttributes:e(hW),getAttribute:e(hX),getAttributeProductAggregations:e(h_),createAttribute:e(hY),updateAttribute:e(hZ),deleteAttribute:e(h$),listAttributeSiteAttachments:e(i$),describeAttributeSiteAttachment:e(i_),attachAttributeSite:e(i0),detachAttributeSite:e(i1),getGroup:e(jd),listGroups:e(jc),deleteGroup:e(jg),createGroup:e(je),updateGroup:e(jf),listGroupSiteAttachments:e(jk),describeGroupSiteAttachment:e(jl),attachGroupSite:e(jm),detachGroupSite:e(jn),listGroupAttributeAttachments:e(ju),describeGroupAttributeAttachment:e(jv),modifyGroupAttribute:e(jx),attachGroupAttribute:e(jw),detachGroupAttribute:e(jy),listCollections:e(ie),listCollectionTrees:e(ij),getCollection:e(ih),createCollection:e(h9),updateCollection:e(ic),deleteCollection:e(il),getAttributeConfig:e(ip),listProducts:e(iN),getProduct:e(iU),createProduct:e(iJ),batchProduct:e(iI),deleteProduct:e(iW),updateProduct:e(iL),detachVariantBase:e(j1),detachProductCollection:e(j7),getBulkUploadUrl:e(jC),executeImport:e(jF),listBulkStatuses:e(jI),getBulkStatus:e(jK),getExportStatus:e(jW),getExport:e(jX),exportResource:e(jV),getView:e(kg),listViews:e(kh),searchProducts:e(iS),createView:e(ki),updateView:e(kj),deleteView:e(kk)}};kl.signature={getApiSpecification:hh,listSites:hA,getSite:hB,createSite:hC,updateSite:hD,deleteSite:hE,listAttributes:hW,getAttribute:hX,getAttributeProductAggregations:h_,createAttribute:hY,updateAttribute:hZ,deleteAttribute:h$,listAttributeSiteAttachments:i$,describeAttributeSiteAttachment:i_,attachAttributeSite:i0,detachAttributeSite:i1,listGroupSiteAttachments:jk,describeGroupSiteAttachment:jl,attachGroupSite:jm,detachGroupSite:jn,listGroupAttributeAttachments:ju,describeGroupAttributeAttachment:jv,attachGroupAttribute:jw,modifyGroupAttribute:jx,detachGroupAttribute:jy,getGroup:jd,listGroups:jc,deleteGroup:jg,createGroup:je,updateGroup:jf,getBulkUploadUrl:jC,executeImport:jF,listCollections:ie,listCollectionTrees:ij,getCollection:ih,createCollection:h9,updateCollection:ic,deleteCollection:il,getAttributeConfig:ip,listProducts:iN,searchProducts:iS,getProduct:iU,createProduct:iJ,batchProduct:iI,deleteProduct:iW,updateProduct:iL,detachVariantBase:j1,detachProductCollection:j7,listBulkStatuses:jI,getBulkStatus:jK,getExportStatus:jW,getExport:jX,exportResource:jV,getView:kg,listViews:kh};var km,kn=(0,s.Union)((0,s.Literal)("get"),(0,s.Literal)("GET"),(0,s.Literal)("delete"),(0,s.Literal)("DELETE"),(0,s.Literal)("head"),(0,s.Literal)("HEAD"),(0,s.Literal)("options"),(0,s.Literal)("OPTIONS"),(0,s.Literal)("post"),(0,s.Literal)("POST"),(0,s.Literal)("put"),(0,s.Literal)("PUT"),(0,s.Literal)("patch"),(0,s.Literal)("PATCH"),(0,s.Literal)("purge"),(0,s.Literal)("PURGE"),(0,s.Literal)("link"),(0,s.Literal)("LINK"),(0,s.Literal)("unlink"),(0,s.Literal)("UNLINK")),ko=(0,s.Record)({method:kn,headers:(0,s.Dictionary)((0,s.Union)(s.String,s.Number,s.Boolean),"string"),url:s.String,data:(0,s.Optional)(s.Unknown),decompress:(0,s.Literal)(!0),responseType:(0,s.Literal)("json")}),kp=(0,n.object)({name:(0,n.string)(),value:(0,n.string)()}),kq=(0,n.object)({firstName:(0,n.string)(),lastName:(0,n.string)(),company:(0,n.string)(),street1:(0,n.string)(),street2:(0,n.string)(),city:(0,n.string)(),state:(0,n.string)(),stateAcronym:(0,n.string)(),zip:(0,n.string)(),country:(0,n.string)(),email:(0,n.string)(),phone:(0,n.string)(),formFields:(0,n.array)(kp)}),kr=(0,n.object)({id:(0,n.number)(),pickupMethodId:(0,n.number)(),pickupMethodDisplayName:(0,n.string)(),collectionInstructions:(0,n.string)(),collectionTimeDescription:(0,n.string)(),location:kq}),ks=(0,n.object)({id:(0,n.number)(),firstName:(0,n.string)(),lastName:(0,n.string)(),company:(0,n.string)(),street1:(0,n.string)(),street2:(0,n.string)(),city:(0,n.string)(),state:(0,n.string)(),stateAcronym:(0,n.string)(),zip:(0,n.string)(),country:(0,n.string)(),phone:(0,n.string)(),formFields:(0,n.array)(kp),itemsTotal:(0,n.number)(),itemsShipped:(0,n.number)(),shippingMethod:(0,n.string)(),baseCost:(0,n.number)(),costExcludingTax:(0,n.number)(),costIncludingTax:(0,n.number)(),costTax:(0,n.number)(),baseHandlingCost:(0,n.number)(),handlingCostExcludingTax:(0,n.number)(),handlingCostIncludingTax:(0,n.number)(),handlingCostTax:(0,n.number)(),shippingZoneId:(0,n.number)()}),kt=(0,n.object)({pickups:(0,n.array)(kr),shipping:(0,n.array)(ks),downloads:(0,n.array)((0,n.object)({recepientEmail:(0,n.string)()})),email:(0,n.object)({giftCertificates:(0,n.array)((0,n.object)({recepientEmail:(0,n.string)()}))})}),ku=(0,n.object)({id:(0,n.number)(),orderId:(0,n.number)(),productId:(0,n.number)(),orderPickupMethodId:(0,n.nullable)((0,n.number)()),orderAddressId:(0,n.number)(),name:(0,n.string)(),sku:(0,n.string)(),type:(0,n.union)((0,n.literal)("physical"),(0,n.literal)("digital")),basePrice:(0,n.string)(),priceExcludingTax:(0,n.string)(),priceIncludingTax:(0,n.string)(),priceTax:(0,n.string)(),baseTotal:(0,n.string)(),totalExcludingTax:(0,n.string)(),totalIncludingTax:(0,n.string)(),totalTax:(0,n.string)(),quantity:(0,n.number)(),baseCostPrice:(0,n.string)(),costPriceIncludingTax:(0,n.string)(),costPriceExcludingTax:(0,n.string)(),costPriceTax:(0,n.string)(),weight:(0,n.union)((0,n.string)(),(0,n.number)()),isRefunded:(0,n.bool)(),returnId:(0,n.nullable)((0,n.number)()),wrappingName:(0,n.nullable)((0,n.string)()),baseWrappingCost:(0,n.union)((0,n.string)(),(0,n.number)()),wrappingCostExcludingTax:(0,n.string)(),wrappingCostIncludingTax:(0,n.string)(),wrappingCostTax:(0,n.string)(),wrappingMessage:(0,n.nullable)((0,n.string)()),quantityShipped:(0,n.number)(),eventName:(0,n.nullable)((0,n.string)()),eventDate:(0,n.nullable)((0,n.string)()),fixedShippingCost:(0,n.string)(),ebayItemId:(0,n.nullable)((0,n.string)()),ebayTransactionId:(0,n.nullable)((0,n.string)()),optionSetId:(0,n.nullable)((0,n.number)()),parentOrderProductId:(0,n.nullable)((0,n.number)()),isBundledProduct:(0,n.bool)(),binPickingNumber:(0,n.nullable)((0,n.string)()),externalId:(0,n.nullable)((0,n.string)()),appliedDiscounts:(0,n.array)((0,n.object)({id:(0,n.string)(),amount:(0,n.string)(),name:(0,n.string)(),code:(0,n.nullable)((0,n.string)()),target:(0,n.string)()})),productOptions:(0,n.array)((0,n.object)({id:(0,n.number)(),optionId:(0,n.number)(),orderProductId:(0,n.number)(),productOptionId:(0,n.number)(),displayName:(0,n.string)(),value:(0,n.string)(),type:(0,n.union)((0,n.literal)(""),(0,n.literal)("Checkbox"),(0,n.literal)("Date field"),(0,n.literal)("File Upload"),(0,n.literal)("Multi-line text field"),(0,n.literal)("Multiple choice"),(0,n.literal)("Product Pick List"),(0,n.literal)("Swatch"),(0,n.literal)("Text field")),name:(0,n.string)(),displayStyle:(0,n.string)(),displayNameCustomer:(0,n.string)(),displayNameMerchant:(0,n.string)(),dislpayValueCustomer:(0,n.string)(),displayValueMerchant:(0,n.string)()})),upc:(0,n.nullable)((0,n.string)()),variantId:(0,n.number)(),nameCustomer:(0,n.string)(),nameMerchant:(0,n.string)(),giftCertificateId:(0,n.nullable)((0,n.number)()),brand:(0,n.string)(),configurableFields:(0,n.array)((0,n.mixed)()),depth:(0,n.string)(),fulfillmentSource:(0,n.string)(),height:(0,n.string)(),quantityRefunded:(0,n.number)(),refundAmount:(0,n.string)(),width:(0,n.string)(),wrappingId:(0,n.nullable)((0,n.number)())}),kv=(0,n.array)(ku),kw=(0,n.union)((0,n.literal)("US")),kx=(0,n.object)({id:(0,n.number)(),firstName:(0,n.string)(),lastName:(0,n.string)(),company:(0,n.string)(),street1:(0,n.string)(),street2:(0,n.string)(),city:(0,n.string)(),zip:(0,n.string)(),country:(0,n.string)(),countryIso2:kw,state:(0,n.string)(),email:(0,n.string)(),phone:(0,n.string)(),formFields:(0,n.array)(kp),baseCost:(0,n.string)(),baseHandlingCost:(0,n.string)(),costExcludingTax:(0,n.string)(),costIncludingTax:(0,n.string)(),costTax:(0,n.string)(),costTaxClassId:(0,n.number)(),handlingCostExcludingTax:(0,n.string)(),handlingCostIncludingTax:(0,n.string)(),handlingCostTax:(0,n.string)(),handlingCostTaxClassId:(0,n.number)(),itemsShipped:(0,n.number)(),itemsTotal:(0,n.number)(),orderId:(0,n.number)(),shippingMethod:(0,n.string)(),shippingZoneId:(0,n.number)(),shippingZoneName:(0,n.string)()}),ky=(0,n.array)(kx);(km=k||(k={}))[km.PER_ITEM_DISCOUNT=0]="PER_ITEM_DISCOUNT",km[km.PERCENTAGE_DISCOUNT=1]="PERCENTAGE_DISCOUNT",km[km.PER_TOTAL_DISCOUNT=2]="PER_TOTAL_DISCOUNT",km[km.SHIPPING_DISCOUNT=3]="SHIPPING_DISCOUNT",km[km.FREE_SHIPPING=4]="FREE_SHIPPING",km[km.PROMOTIONS=5]="PROMOTIONS";var kz=(0,n.union)((0,n.literal)(k.PER_ITEM_DISCOUNT),(0,n.literal)(k.PERCENTAGE_DISCOUNT),(0,n.literal)(k.PER_TOTAL_DISCOUNT),(0,n.literal)(k.SHIPPING_DISCOUNT),(0,n.literal)(k.FREE_SHIPPING),(0,n.literal)(k.PROMOTIONS)),kA=(0,n.object)({id:(0,n.number)(),couponId:(0,n.number)(),orderId:(0,n.number)(),code:(0,n.string)(),amount:(0,n.string)(),type:kz,discount:(0,n.string)()}),kB=(0,n.array)(kA),kC={id:(0,n.number)(),dateModified:(0,n.string)(),dateShipped:(0,n.string)(),cartId:(0,n.string)(),status:(0,n.string)(),subtotalTax:(0,n.string)(),shippingCostTax:(0,n.string)(),shippingCostTaxClassId:(0,n.number)(),handlingCostTax:(0,n.string)(),handlingCostTaxClassId:(0,n.number)(),wrappingCostTax:(0,n.string)(),wrappingCostTaxClassId:(0,n.number)(),paymentStatus:(0,n.string)(),storeCreditAmount:(0,n.string)(),giftCertificateAmount:(0,n.string)(),currencyId:(0,n.number)(),currencyCode:(0,n.string)(),currencyExchangeRate:(0,n.string)(),defaultCurrencyId:(0,n.number)(),defaultCurrencyCode:(0,n.string)(),storeDefaultCurrencyCode:(0,n.string)(),storeDefaultToTransactionalExchangeRate:(0,n.string)(),couponDiscount:(0,n.string)(),shippingAddressCount:(0,n.number)(),isEmailOptIn:(0,n.bool)(),orderSource:(0,n.string)(),statusId:(0,n.number)(),billingAddress:kq,baseHandlingCost:(0,n.string)(),baseShippingCost:(0,n.string)(),baseWrappingCost:(0,n.string)(),channelId:(0,n.number)(),customerId:(0,n.number)(),customerMessage:(0,n.string)(),dateCreated:(0,n.string)(),discountAmount:(0,n.string)(),ebayOrderId:(0,n.string)(),externalId:(0,n.nullable)((0,n.string)()),externalMerchantId:(0,n.nullable)((0,n.string)()),externalSource:(0,n.nullable)((0,n.string)()),geoipCountry:(0,n.string)(),geoipCountryIso2:(0,n.string)(),handlingCostExcludingTax:(0,n.string)(),handlingCostIncludingTax:(0,n.string)(),ipAddress:(0,n.string)(),ipAddressV6:(0,n.string)(),isDeleted:(0,n.bool)(),itemsShipped:(0,n.number)(),itemsTotal:(0,n.number)(),orderIsDigital:(0,n.bool)(),paymentMethod:(0,n.string)(),paymentProviderId:(0,n.nullable)((0,n.string)()),refundedAmount:(0,n.string)(),shippingCostExcludingTax:(0,n.string)(),shippingCostIncludingTax:(0,n.string)(),staffNotes:(0,n.string)(),subtotalExcludingTax:(0,n.string)(),subtotalIncludingTax:(0,n.string)(),taxProviderId:(0,n.string)(),customerLocale:(0,n.string)(),externalOrderId:(0,n.string)(),totalExcludingTax:(0,n.string)(),totalIncludingTax:(0,n.string)(),totalTax:(0,n.string)(),wrappingCostExcludingTax:(0,n.string)(),wrappingCostIncludingTax:(0,n.string)(),creditCardType:(0,n.nullable)((0,n.string)()),customStatus:(0,n.string)()},kD=(0,n.object)(D({},kC,{consignments:kt,products:kv,shippingAddresses:ky,coupons:kB})),kE=function(a){return{check:(0,n.assertion)(a)}},kF=(0,n.object)({identifier:(0,n.string)(),subidentifier:(0,n.optional)((0,n.string)())}),kG=(0,n.object)({collectionName:(0,n.string)(),identity:(0,n.string)(),public:(0,n.optional)((0,n.bool)())}),kH=kE(kG),kI=(0,n.object)({collectionName:(0,n.string)(),identity:(0,n.string)()}),kJ=kE(kI),kK=(0,n.object)({identity:(0,n.string)(),public:(0,n.optional)((0,n.bool)()),limit:(0,n.optional)((0,n.number)()),paginationToken:(0,n.optional)((0,n.string)()),previousPage:(0,n.optional)((0,n.bool)())}),kL=kE(kK),kM=(0,n.object)({collectionName:(0,n.string)(),identity:(0,n.string)(),public:(0,n.optional)((0,n.bool)()),merchandise:(0,n.array)(kF)}),kN=kE(kM),kO=(0,n.object)({orderId:(0,n.string)(),billingAddressZip:(0,n.string)(),shopName:(0,n.string)()}),kP=kE(kO),kQ=(0,n.object)({collectionName:(0,n.string)(),identity:(0,n.string)(),public:(0,n.optional)((0,n.bool)()),merchandise:(0,n.array)(kF),accountId:(0,n.string)()}),kR=kE(kQ),kS=kE((0,n.object)({merchandiseCollections:(0,n.array)(kQ),paginationToken:(0,n.optional)((0,n.string)())})),kT=s.String,kU=(0,s.Record)({shopName:kT}),kV=s.String,kW=(0,s.Record)({authToken:s.String,secretKey:(0,s.Optional)(s.String),authTokenKeyId:(0,s.Optional)(s.String)}),kX=(0,s.Union)((0,s.Literal)("paypalExpressShim"),(0,s.Literal)("deductInventoryAfterSaleCompleted"),(0,s.Literal)("storeCreditAndCustomerProgramsLiteral"),(0,s.Literal)("mapCustomFieldsToStaffNotes")),kY=(0,s.Record)({customFieldName:s.String,staffNotesPrefix:s.String,staffNotesSuffix:s.String,staffNotesSeparator:s.String}),kZ={platformShopId:s.String,sandbox:s.Boolean,expectedOrigins:(0,s.Array)(s.String),optionalTasks:(0,s.Optional)((0,s.Array)(kX)),attemptLegacyAuthorization:(0,s.Optional)(s.Boolean),customFieldsToStaffNotesMap:(0,s.Optional)(s.Undefined),loyaltyMembershipSku:(0,s.Optional)(s.String)},k$=(0,s.Record)(kZ),k_=(0,s.Record)(D({},kZ,{customFieldsToStaffNotesMap:(0,s.Array)(kY)})),k0=(0,s.Literal)("bigcommerce"),k1=(0,s.Record)({shopType:k0,shopName:kT,accountId:kV,account:(0,s.Union)(k$,k_)}),k2=(0,s.Record)({credentials:kW,account:k$,shopType:k0,shopName:kT}),k3=(0,s.Record)({shopType:k0,shopName:kT,credentials:kW}),k4=(0,s.Record)({shopType:k0,shopName:kT,account:(0,s.Union)(k$,k_)}),k5=(0,s.Union)(k4),k6=(0,s.Union)(k3),k7=(0,s.Union)(k1),k8=(0,s.Union)(k2),k9=(0,s.Record)({written:s.Boolean}),la=s.String,lb=(0,s.Optional)(s.String),lc=s.String,ld=s.String,le=s.String,lf=s.String,lg=s.String,lh=s.String,li=(0,s.Optional)(s.String),lj=(0,s.Optional)(s.String),lk=s.String,ll=(0,s.Record)({shopperId:lk,shopName:kT}),lm=(0,s.Record)({street1:la,street2:lb,postalCode:lc,city:ld,country:le,state:lf,firstName:lg,lastName:lh,email:li,phone:lj}),ln=(0,s.Record)({id:s.String,quantity:s.Number,sku:s.String,name:s.String,productId:s.String,unitPrice:s.Number,unitTax:s.Number}),lo=(0,s.Record)({orderId:s.String,paymentId:s.String,success:s.Boolean,paymentIntentSecret:(0,s.Optional)(s.String),paymentMethodId:(0,s.Optional)(s.String),shouldCompleteOrder:(0,s.Optional)(s.Boolean)}),lp=(0,s.Record)({walletName:(0,s.Union)((0,s.Literal)("applePay"),(0,s.Literal)("browserCard"),(0,s.Literal)("link"),(0,s.Literal)("googlePay"))}),lq=(0,s.Union)((0,s.Literal)("authorize"),(0,s.Literal)("capture")),lr={shopName:s.String,checkoutId:s.String,identity:s.String,intent:(0,s.Optional)(lq),paymentGatewayName:(0,s.Optional)(s.String),deviceFingerprintId:(0,s.Optional)(s.String),orderContext:(0,s.Optional)((0,s.Dictionary)(s.String)),lineItems:(0,s.Optional)((0,s.Array)(ln)),referenceId:(0,s.Optional)(s.String),shippingAddress:(0,s.Optional)(lm),totalAmount:s.Number,useStoreCredit:(0,s.Optional)(s.Boolean)},ls=(0,s.Record)(D({},lr,{paymentMethodId:s.String,applePayPaymentData:(0,s.Optional)(s.Undefined),paypalPaymentData:(0,s.Optional)(s.Undefined),paymentIntent:(0,s.Optional)(s.Undefined),paymentIntentData:(0,s.Optional)(s.Undefined),billingAddress:(0,s.Optional)(lm)})),lt=(0,s.Record)(D({},lr,{paymentMethodId:(0,s.Optional)(s.Undefined),paypalPaymentData:(0,s.Optional)(s.Undefined),applePayPaymentData:s.String,paymentIntent:(0,s.Optional)(s.Undefined),paymentIntentData:(0,s.Optional)(s.Undefined),billingAddress:lm})),lu=(0,s.Record)(D({},lr,{paymentMethodId:(0,s.Optional)(s.Undefined),applePayPaymentData:(0,s.Optional)(s.Undefined),paypalPaymentData:s.String,paymentIntent:(0,s.Optional)(s.Undefined),paymentIntentData:(0,s.Optional)(s.Undefined),billingAddress:(0,s.Optional)(lm)})),lv=(0,s.Record)(D({},lr,{paymentMethodId:(0,s.Optional)((0,s.Union)(s.String,s.Undefined)),applePayPaymentData:(0,s.Optional)(s.Undefined),paypalPaymentData:(0,s.Optional)(s.Undefined),paymentIntent:s.Boolean,paymentIntentData:(0,s.Optional)(lp),billingAddress:(0,s.Optional)(lm)})),lw=(0,s.Union)(ls,lt,lu,lv),lx=s.String,ly=s.String,lz=(0,s.Record)({identifier:lx,password:ly,shopName:kT}),lA=(0,s.Union)((0,s.Literal)("sha512hmac"),(0,s.Literal)("sha256hmac"),(0,s.Literal)("sha128hmac")),lB=(0,s.Record)({identifier:lx,hash:s.String,hashType:lA,salt:(0,s.Optional)(s.String),migrated:(0,s.Optional)(s.Boolean)}),lC=(0,s.Record)({shopName:kT,legacyLoginProfiles:(0,s.Array)(lB)}),lD="api.cscshopfront.com",lE="shopfront",lF="global",lG={receives:s.Void,method:f.GET,composePath:function(){return"/shop"},returns:(0,s.Array)(k7)},lH={receives:kU,method:f.GET,composePath:function(a){return"/shop/"+a.shopName},returns:k7},lI={receives:kU,method:f.DELETE,composePath:function(a){return"/shop/"+a.shopName},returns:k9},lJ={receives:k5,method:f.PUT,composePath:function(a){return"/shop/"+a.shopName+"/account"},composeBody:function(a){var b=a.account,c=a.shopType;return{account:b,shopType:c}},returns:k9},lK={receives:k6,method:f.PUT,composePath:function(a){return"/shop/"+a.shopName+"/credentials"},composeBody:function(a){var b=a.credentials,c=a.shopType;return{credentials:b,shopType:c}},returns:k9},lL={receives:k8,method:f.POST,composePath:function(a){return"/shop/"+a.shopName},composeBody:function(a){var b=a.shopType,c=a.account,d=a.credentials;return{account:c,credentials:d,shopType:b}},returns:k7},lM=(0,s.Record)({accessKeyId:s.String,secretAccessKey:s.String,sessionToken:(0,s.Optional)(s.String),identityArn:(0,s.Optional)(s.String)}),lN=(0,s.Record)({shippingAddress:(0,s.Optional)(lm),billingAddress:(0,s.Optional)(lm),lineItems:(0,s.Optional)((0,s.Array)(ln)),contextFields:(0,s.Optional)((0,s.Dictionary)(s.String)),deviceFingerprintId:(0,s.Optional)(s.String)}),lO=(0,s.Record)({identity:s.String,signature:s.String,dateTime:s.String,methodId:(0,s.Optional)(s.Undefined),totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),paypalPaymentData:(0,s.Optional)(s.Undefined),applePayPaymentData:s.String,antiFraudContext:(0,s.Optional)(lN),token:(0,s.Optional)(s.String),issuerCredentials:lM}),lP=(0,s.Record)({identity:s.String,signature:s.String,dateTime:s.String,methodId:s.String,totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),paypalPaymentData:(0,s.Optional)(s.Undefined),applePayPaymentData:(0,s.Optional)(s.Undefined),antiFraudContext:(0,s.Optional)(lN),token:(0,s.Optional)(s.String),issuerCredentials:lM}),lQ=(0,s.Record)({identity:s.String,signature:s.String,dateTime:s.String,methodId:(0,s.Optional)(s.Undefined),totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),paypalPaymentData:s.String,applePayPaymentData:(0,s.Optional)(s.Undefined),antiFraudContext:(0,s.Optional)(lN),token:(0,s.Optional)(s.String),issuerCredentials:lM}),lR=(0,s.Record)({identity:s.String,signature:s.String,dateTime:s.String,methodId:s.String,totalAmount:s.Number,paymentReferenceId:(0,s.Optional)(s.String),paypalPaymentData:(0,s.Optional)(s.Undefined),applePayPaymentData:(0,s.Optional)(s.Undefined),paymentIntent:s.Boolean,paymentIntentData:(0,s.Optional)(lp),antiFraudContext:(0,s.Optional)(lN),token:(0,s.Optional)(s.String),issuerCredentials:lM}),lS=(0,s.Record)({shopName:s.String,identity:s.String,antiFraudContext:(0,s.Optional)(lN),presignedPayment:ko}),lT=(0,s.Record)({shopName:s.String,identity:s.String,shouldConvertGuestUserToRegistered:s.Boolean,originalOrderId:s.String,presignedGetOrder:ko,pesignedLoyaltyorder:ko}),lU=(0,s.Record)({originalOrderId:s.String,enrollmentOrderId:s.String,loginUrl:(0,s.Union)(s.String,(0,s.Literal)(null))}),lV=(0,s.Record)({paymentGatewayName:(0,s.Optional)(s.String),shopName:s.String,checkoutId:s.String,payment:(0,s.Union)(lO,lP,lQ,lR)}),lW=function(a){var b,c=a.credentials,g=a.paymentsHost,h=a.host,i=a.region,j=a.service;return b=C(z().mark(function a(b){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,A,B,C,E,F,G,H,I,J;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return k=b.shopName,l=b.checkoutId,m=b.identity,n=b.paymentMethodId,o=b.paypalPaymentData,p=b.applePayPaymentData,q=b.paymentIntent,r=b.paymentIntentData,s=b.totalAmount,t=b.shippingAddress,u=b.billingAddress,v=b.referenceId,w=b.lineItems,x=b.orderContext,y=b.deviceFingerprintId,A=b.paymentGatewayName,B=b.intent,C=b.useStoreCredit,E=b9({host:h||lD,service:j,region:i,credentials:c}),a.next=4,c||aa.CSC();case 4:if(null!=(F=a.sent)){a.next=7;break}throw Error("Fatal signing exception within payments presigning.");case 7:if(G={antiFraudContext:{contextFields:x,lineItems:w,shippingAddress:t,billingAddress:u,deviceFingerprintId:y},paymentReferenceId:v,totalAmount:s,intent:B,useStoreCredit:C,issuerCredentials:F,token:F.sessionToken,identity:m},H={host:g||"api.cscpaymentsservices.com",method:f.POST,body:JSON.stringify(G),path:"/identity/"+encodeURIComponent(m)+"/paymentMethods/"+(n||"-1")+"/payment",service:"payments",region:"global",headers:{"content-type":"application/json"}},null!=(I=bV(H,F).sign()).headers){a.next=12;break}throw Error("Fatal signing exception within payments presigning.");case 12:if(J=null,!(q&&n)){a.next=18;break}bO({level:e.INFO,type:d.RequestReceived,name:"Using payment intent in csc-sdk payfororder"}),J=D({signature:globalThis.String(I.headers.Authorization),dateTime:globalThis.String(I.headers["X-Amz-Date"]),methodId:n,paypalPaymentData:void 0,applePayPaymentData:void 0,paymentIntent:q,paymentIntentData:r},G),a.next=34;break;case 18:if(!p){a.next=23;break}bO({level:e.INFO,type:d.RequestReceived,name:"Using apple pay cybersource in csc-sdk payfororder"}),J=D({signature:globalThis.String(I.headers.Authorization),dateTime:globalThis.String(I.headers["X-Amz-Date"]),methodId:void 0,applePayPaymentData:p},G),a.next=34;break;case 23:if(!n){a.next=28;break}bO({level:e.INFO,type:d.RequestReceived,name:"Using credit card payment in csc-sdk payfororder"}),J=D({signature:globalThis.String(I.headers.Authorization),dateTime:globalThis.String(I.headers["X-Amz-Date"]),methodId:n,applePayPaymentData:void 0},G),a.next=34;break;case 28:if(!o){a.next=33;break}bO({level:e.INFO,type:d.ProcessingData,name:"Using paypal payment in csc-sdk payfororder"}),J=D({signature:globalThis.String(I.headers.Authorization),dateTime:globalThis.String(I.headers["X-Amz-Date"]),methodId:void 0,paypalPaymentData:o,applePayPaymentData:void 0},G),a.next=34;break;case 33:throw Error("Payment Method not provided");case 34:return a.next=36,E({receives:lV,method:f.POST,composePath:function(a){var b=a.shopName,c=a.checkoutId;return"/shop/"+b+"/checkouts/"+c},composeBody:function(a){var b=a.payment,c=a.paymentGatewayName;return{payment:b,paymentGatewayName:c}},returns:lo})({payment:J,shopName:k,checkoutId:l,paymentGatewayName:A});case 36:return a.abrupt("return",a.sent);case 37:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},lX=function(a){return encodeURIComponent(window.btoa(a))},lY={receives:lS,method:f.POST,composePath:function(a){var b=a.shopName,c=a.identity;return"/shop/"+b+"/loyalty/"+lX(c)+"/place-order"},composeBody:function(a){var b=a.presignedPayment,c=a.identity,d=a.antiFraudContext;return{identity:c,antiFraudContext:d,presignedPayment:b}},returns:lo},lZ={receives:lT,method:f.POST,composePath:function(a){var b=a.shopName,c=a.identity;return"/shop/"+b+"/loyalty/"+lX(c)+"/enroll"},composeBody:function(a){var b=a.shouldConvertGuestUserToRegistered,c=a.originalOrderId,d=a.presignedGetOrder,e=a.pesignedLoyaltyorder;return{shouldConvertGuestUserToRegistered:b,originalOrderId:c,presignedGetOrder:d,pesignedLoyaltyorder:e}},returns:lU},l$={receives:lw,method:f.POST,composePath:function(a){var b=a.shopName,c=a.checkoutId;return"/shop/"+b+"/checkouts/"+c},composeBody:function(a){var b=a.identity,c=a.paymentMethodId,d=a.totalAmount,e=a.shippingAddress,f=a.billingAddress,g=a.referenceId,h=a.lineItems,i=a.orderContext,j=a.applePayPaymentData,k=a.deviceFingerprintId,l=a.paymentGatewayName;return{payment:{identity:b,signature:"generated async",dateTime:"generated async",methodId:c||"-1",applePayPaymentData:j,totalAmount:d,paymentReferenceId:g,antiFraudContext:{contextFields:i,lineItems:h,shippingAddress:e,billingAddress:f,deviceFingerprintId:k},token:"generated async"},paymentGatewayName:l}},returns:lo},l_={receives:lz,method:f.POST,composePath:function(a){return"/shop/"+a.shopName+"/legacyAuth/migration"},composeBody:function(a){var b=a.identifier,c=a.password;return{identifier:b,password:c}},returns:s.Void},l0={receives:lC,method:f.PUT,composePath:function(a){return"/shop/"+a.shopName+"/legacyAuth/credentialsBatch"},composeBody:function(a){return{legacyLoginProfiles:a.legacyLoginProfiles}},returns:k9},l1={receives:ll,method:f.DELETE,composePath:function(a){var b=a.shopName,c=a.shopperId;return"/shop/"+b+"/shopper/"+c},returns:s.Void},l2=(0,s.Record)({email:s.String,password:s.String,accountId:s.String,shopName:s.String}),l3={receives:l2,method:f.POST,composePath:function(a){var b=a.shopName,c=a.accountId;return"/shop/"+b+"/shopper/"+c+"/login"},composeBody:function(a){var b=a.email,c=a.password;return{email:b,password:c}},returns:s.Unknown},l4=(0,s.Record)({email:s.String,password:s.String,firstName:s.String,lastName:s.String,phone:s.String,shopName:s.String}),l5=(0,s.Record)({customerId:s.Number}),l6={receives:l4,method:f.POST,composePath:function(a){return"/shop/"+a.shopName+"/shopper"},composeBody:function(a){var b=a.email,c=a.password,d=a.firstName,e=a.lastName,f=a.phone;return{email:b,password:c,firstName:d,lastName:e,phone:f}},returns:l5},l7={receives:kJ,method:f.DELETE,composePath:function(a){var b=a.identity,c=a.collectionName;return"/identity/"+encodeURIComponent(b)+"/merchandise/collection/"+c},returns:k9},l8={receives:kH,method:f.GET,composePath:function(a){var b=a.identity,c=a.collectionName;return"/identity/"+encodeURIComponent(b)+"/merchandise/collection/"+c},composeParams:function(a){return{public:globalThis.String(a.public)}},returns:kR},l9={receives:kL,method:f.GET,composePath:function(a){return"/identity/"+encodeURIComponent(a.identity)+"/merchandise/collection"},composeParams:function(a){var b=a.public,c=a.paginationToken,d=a.limit,e=a.previousPage;return{public:globalThis.String(b),paginationToken:c,limit:globalThis.String(d),previousPage:globalThis.String(e)}},returns:kS},ma={receives:kN,method:f.PUT,composePath:function(a){var b=a.identity,c=a.collectionName;return"/identity/"+encodeURIComponent(b)+"/merchandise/collection/"+c},composeBody:function(a){var b=a.public,c=a.merchandise;return{public:b,merchandise:c}},returns:kR},mb={receives:kP,method:f.GET,composePath:function(a){var b=a.shopName,c=a.orderId,d=a.billingAddressZip;return"/shop/"+b+"/order/"+c+"/"+d},returns:kD},mc=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b.paymentsHost,f=b9({host:d||lD,service:lE,region:lF,credentials:c}),g=fp({host:d||lD,service:lE,region:lF,credentials:c}),h=b8({host:d||lD}),i=fq({host:d||lD});return{listShops:f(lG),getShop:f(lH),deleteShop:f(lI),updateShopAccount:f(lJ),updateShopCredentials:f(lK),createShop:f(lL),payForOrder:lW({credentials:c,paymentsHost:e,host:d||lD,service:lE,region:lF}),getOrder:f(mb),presignGetOrder:g(mb),presignedGetOrder:i(mb),migrateLegacyLoginProfile:f(l_),batchPutLegacyLoginProfile:f(l0),deleteShopper:f(l1),loginShopper:f(l3),presignLoginShopper:g(l3),presignedLoginShopper:i(l3),createShopper:f(l6),presignCreateShopper:g(l6),presignedCreateShopper:i(l6),placeLoyaltyOrder:f(lY),presignPlaceLoyaltyOrder:g(lY),presignedPlaceLoyaltyOrder:i(lY),enrollLoyalty:f(lZ),presignEnrollLoyalty:g(lZ),presignedEnrollLoyalty:i(lZ),deleteMerchandiseCollection:f(l7),getMerchandiseCollection:function(a){return a.public?h(l8)(a):f(l8)(a)},listMerchandiseCollection:function(a){return a.public?h(l9)(a):f(l9)(a)},putMerchandiseCollection:f(ma)}};mc.signature={listShops:lG,getShop:lH,deleteShop:lI,updateShopAccount:lJ,updateShopCredentials:lK,createShop:lL,payForOrder:l$,getOrder:mb,deleteShopper:l1,loginShopper:l3,createShopper:l6,placeLoyaltyOrder:lY,enrollLoyalty:lZ,deleteMerchandiseCollection:l7,getMerchandiseCollection:l8,listMerchandiseCollection:l9,putMerchandiseCollection:ma};var md=(0,s.Record)({filters:(0,s.Optional)((0,s.Record)({vendorNames:(0,s.Optional)((0,s.Array)(s.String)),brandCode:(0,s.Optional)((0,s.Array)(s.String)),query:(0,s.Optional)(s.String),ingestionId:(0,s.Optional)(s.Number),creationDate:(0,s.Optional)(s.String),brands:(0,s.Optional)((0,s.Array)(s.Number)),categories:(0,s.Optional)((0,s.Array)(s.Number)),skus:(0,s.Optional)((0,s.Array)(s.String)),masterVendorIds:(0,s.Optional)((0,s.Array)(s.String)),leadTimeMin:(0,s.Optional)(s.Number),leadTimeMax:(0,s.Optional)(s.Number)})),scrollId:(0,s.Optional)(s.String),_source:(0,s.Optional)((0,s.Array)(s.String)),pageSize:(0,s.Optional)(s.Number),type:s.String,shopName:s.String}),me=(0,s.Record)({hits:(0,s.Array)(s.Unknown),scrollId:(0,s.Optional)((0,s.Union)(s.String)),total:s.Number,requestedSize:s.Number}),mf={receives:md,method:f.GET,composePath:function(a){var b=a.type,c=a.shopName;return"/shop/"+c+"/data/"+b},composeParams:function(a){var b=a.filters,c=(b=void 0===b?{}:b).query,d=b.ingestionId,e=b.creationDate,f=b.brands,g=b.categories,h=b.skus,i=b.masterVendorIds,j=b.brandCode,k=b.vendorNames,l=b.leadTimeMin,m=b.leadTimeMax,n=a.scrollId,o=a._source,p=a.pageSize;return{query:c,vendorNames:k&&k.join("||"),brandCode:j&&j.join(","),ingestionId:d&&d.toString(),creationDate:e,brands:f&&f.join("||"),categories:g&&g.join(","),skus:h&&h.join(","),masterVendorIds:i&&i.join(","),_source:o&&o.join(","),scrollId:n,pageSize:p&&p.toString(),leadTimeMin:l&&l.toString(),leadTimeMax:m&&m.toString()}},returns:me},mg=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||"api.catalogalpha.cscshopfront.com",service:"shopfrontcatalogalpha",region:"global",credentials:c});return{searchCatalogData:e(mf)}};mg.signature={searchCatalogData:mf};var mh=(0,n.object)({accountId:(0,n.string)(),region:(0,n.string)(),repo:(0,n.string)(),ref:(0,n.optional)((0,n.string)()),branch:(0,n.string)(),environment:(0,n.string)(),brand:(0,n.optional)((0,n.string)()),codebuildImage:(0,n.optional)((0,n.string)()),hasRuntimePolicies:(0,n.optional)((0,n.bool)()),hasStaticsBucket:(0,n.optional)((0,n.bool)()),hasKmsKey:(0,n.optional)((0,n.bool)()),hasChatops:(0,n.optional)((0,n.bool)()),hasJiraTracking:(0,n.optional)((0,n.bool)()),overrides:(0,n.optional)((0,n.string)()),version:(0,n.string)()}),mi=(0,n.object)({serviceName:(0,n.string)(),environment:(0,n.string)()}),mj=(0,n.object)({serviceName:(0,n.string)(),environment:(0,n.string)()}),mk=(0,n.object)({StatusCode:(0,n.number)(),Message:(0,n.string)(),StackName:(0,n.string)(),ChangeSetName:(0,n.string)(),PipelineTemplateSnapshot:(0,n.string)()}),ml=(0,n.object)({StatusCode:(0,n.number)(),History:(0,n.string)()}),mm=(0,n.object)({}),mn=function(a){for(var b,c=(0,Object.keys)(a),d=[],e=function(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(c)return(c=c.call(a)).next.bind(c);if(Array.isArray(a)||(c=function(a,b){if(a){if("string"==typeof a)return I(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return I(a,b)}}(a))){c&&(a=c);var d=0;return function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(c);!(b=e()).done;){var f=b.value;d.push(f+"="+a[f])}return d.push("doNotAddEntropy=true"),"?"+d.join("&")},mo={receives:mh,method:f.POST,composePath:function(a){return"/pipelines/generate"+mn(a)},returns:mk},mp={receives:mi,method:f.GET,composePath:function(a){var b=a.serviceName,c=a.environment;return"/pipelines/"+b+"/"+c+"/history"},returns:ml},mq={receives:mj,method:f.GET,composePath:function(a){var b=a.serviceName,c=a.environment;return"/pipelines/"+b+"/"+c+"/template"},returns:mm},mr=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||"api.cscpipelines.com",service:"pipelines",region:"global",credentials:c});return{generatePipeline:e(mo),getPipelineHistory:e(mp),getPipelineTemplate:e(mq)}};mr.signature={generatePipeline:mo,getPipelineHistory:mp,getPipelineTemplate:mq};var ms=(0,n.object)({written:(0,n.bool)()}),mt=(0,n.object)({message:(0,n.string)(),channelId:(0,n.string)()}),mu=(0,n.object)({channelId:(0,n.string)(),content:(0,n.string)(),file:(0,n.string)(),filename:(0,n.string)(),filetype:(0,n.string)(),title:(0,n.string)(),initial_comment:(0,n.optional)((0,n.string)()),thread_ts:(0,n.optional)((0,n.string)())}),mv=(0,n.object)({contentType:(0,n.string)(),contentLength:(0,n.number)(),uploadsKey:(0,n.string)()}),mw=(0,n.object)({key:(0,n.string)(),bucket:(0,n.string)(),"X-Amz-Algorithm":(0,n.string)(),"X-Amz-Credential":(0,n.string)(),"X-Amz-Date":(0,n.string)(),Policy:(0,n.string)(),"X-Amz-Signature":(0,n.string)(),"x-amz-meta-uploads-key":(0,n.string)()}),mx=(0,n.object)({url:(0,n.string)(),fields:mw}),my={receives:mt,method:f.POST,composePath:function(a){return"/channels/"+a.channelId+"/message"},composeBody:function(a){return{message:a.message}},returns:ms},mz={receives:mu,method:f.POST,composePath:function(a){return"/channels/"+a.channelId+"/upload"},composeBody:function(a){var b=a.content,c=a.file,d=a.filename,e=a.filetype,f=a.title,g=a.initial_comment,h=a.thread_ts;return{content:b,file:c,filename:d,filetype:e,title:f,initial_comment:g,thread_ts:h}},returns:ms},mA={receives:mv,method:f.POST,composePath:function(){return"/uploads/presign"},composeBody:function(a){var b=a.contentType,c=a.contentLength,d=a.uploadsKey;return{contentType:b,contentLength:c,uploadsKey:d}},returns:mx},mB=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||"api.cscslack.com",service:"slack",region:"global",credentials:c});return{postMessage:e(my),createPresignPostUrl:e(mA),uploadFile:e(mz)}};mB.signature={postMessage:my,createPresignPostUrl:mA,uploadFile:mz};var mC=(0,s.Record)({type:s.String,app:s.String,id:s.String}),mD=(0,s.Record)({StatusCode:s.Number,Message:s.String}),mE={receives:mC,method:f.GET,composePath:function(a){var b=a.type,c=a.app,d=a.id;return"/dataalpha/type/"+b+"/app/"+c+"/id/"+d},returns:mD},mF=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||"api.cscdatadev.com",service:"dataalpha",region:"global",credentials:c});return{getData:e(mE)}};mF.signature={getData:mE};var mG=["attachments"],mH="api.cscioapi.com",mI="global",mJ=(0,n.object)({name:(0,n.optional)((0,n.string)()),address:(0,n.string)()}),mK=(0,n.object)({type:(0,n.literal)("inline"),filename:(0,n.string)(),contentType:(0,n.string)(),content:(0,n.string)()}),mL=(0,n.object)({type:(0,n.literal)("s3"),key:(0,n.string)()}),mM=(0,n.object)({type:(0,n.literal)("file"),filename:(0,n.string)(),contentType:(0,n.string)(),filepath:(0,n.string)()}),mN=(0,n.object)({type:(0,n.literal)("buffer"),filename:(0,n.string)(),contentType:(0,n.string)(),buffer:(0,n.custom)(function(a){return y.isBuffer(a)?a:null},"value is not a buffer")}),mO=(0,n.array)((0,n.union)(mK,mL)),mP=(0,n.array)((0,n.union)(mK,mL,mM,mN)),mQ={from:mJ,to:(0,n.array)(mJ),cc:(0,n.optional)((0,n.array)(mJ)),bcc:(0,n.optional)((0,n.array)(mJ)),replyTo:(0,n.optional)((0,n.array)(mJ)),subject:(0,n.string)(),attachments:(0,n.optional)(mO)},mR=D({},mQ,{attachments:(0,n.optional)(mP)}),mS=(0,n.object)(D({},mQ,{text:(0,n.string)()})),mT=(0,n.object)(D({},mR,{text:(0,n.string)()})),mU=(0,n.object)(D({},mQ,{html:(0,n.string)()})),mV=(0,n.object)(D({},mR,{html:(0,n.string)()})),mW=(0,n.union)(mS,mU),mX=(0,n.union)(mT,mV),mY=(0,n.object)({written:(0,n.bool)()}),mZ=(0,n.object)({receiverType:(0,n.literal)("email"),recipient:(0,n.string)()}),m$=(0,n.union)(mZ),m_=(0,n.object)({receiverType:(0,n.literal)("email"),forwardingAddress:(0,n.string)(),dataSetName:(0,n.string)()}),m0=(0,n.union)(m_),m1=(0,n.object)({attachments:(0,n.array)((0,n.object)({filename:(0,n.string)(),contentType:(0,n.string)()}))}),m2=(0,n.object)({attachments:(0,n.array)((0,n.object)({filename:(0,n.string)(),attachmentId:(0,n.string)(),contentType:(0,n.string)(),url:(0,n.string)()}))}),m3=(0,n.object)({message:(0,n.string)(),channelId:(0,n.string)()}),m4=(0,n.object)({channelId:(0,n.string)(),content:(0,n.string)(),file:(0,n.string)(),filename:(0,n.string)(),filetype:(0,n.string)(),title:(0,n.string)(),initial_comment:(0,n.optional)((0,n.string)()),thread_ts:(0,n.optional)((0,n.string)())}),m5=function(a){var b,c=a.credentials,d=a.host,e=a.service,f=a.region;return b=C(z().mark(function a(b){var g,h,i,j,k,l,m;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h=(g=(0,n.assertion)(mX)(b)).attachments,i=H(g,mG),j=b9({host:d||mH,service:e,region:f,credentials:c}),a.next=4,c||aa.CSC();case 4:if(null!=(k=a.sent)){a.next=7;break}throw Error("Fatal signing exception within CSC IO presigning.");case 7:if(l=j(m7),!(h&&null!=h&&h.length)){a.next=15;break}return a.next=11,Promise.all(h.map(function(){var a=C(z().mark(function a(b){var c,d,e,f,g,h,i,j;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!("file"===b.type||"buffer"===b.type)){a.next=13;break}return c=b.filename,d=b.contentType,a.next=4,l({attachments:[{filename:c,contentType:d}]});case 4:if((f=(e=a.sent).attachments)[0]){a.next=8;break}throw Error("Presigning failed. If the error persists, please contact CSC IO support.");case 8:return g="file"===b.type?u().readFileSync(w().normalize(b.filepath)):b.buffer,i=(h=f[0]).attachmentId,j=h.url,a.next=12,p().put(j,g);case 12:return a.abrupt("return",{type:"s3",key:i});case 13:return a.abrupt("return",b);case 14:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()));case 11:return m=a.sent,a.abrupt("return",j(m6)(D({},i,{attachments:m})));case 15:return a.abrupt("return",j(m6)(D({},i)));case 16:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},m6={receives:mW,returns:(0,n.object)({written:(0,n.bool)()}),composePath:function(){return"/sender/email"},method:f.POST,composeBody:function(a){return D({},a)}},m7={receives:m1,returns:m2,composePath:function(){return"/sender/email/attachments/upload-url"},method:f.POST,composeBody:function(a){return D({},a)}},m8={receives:m$,returns:m0,composePath:function(){return"/receiver"},method:f.POST,composeBody:function(a){return D({},a)}},m9={receives:m$,returns:m0,composePath:function(a){var b=a.receiverType,c=a.recipient;return"/receiver/"+encodeURIComponent(b)+"/"+encodeURIComponent(c)},method:f.GET},na={receives:m3,method:f.POST,composePath:function(a){return"/channels/"+a.channelId+"/message"},composeBody:function(a){return{message:a.message}},returns:mY},nb={receives:m4,method:f.POST,composePath:function(a){return"/channels/"+a.channelId+"/upload"},composeBody:function(a){var b=a.content,c=a.file,d=a.filename,e=a.filetype,f=a.title,g=a.initial_comment,h=a.thread_ts;return{content:b,file:c,filename:d,filetype:e,title:f,initial_comment:g,thread_ts:h}},returns:mY},nc=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||mH,service:"io",region:mI,credentials:c});return{sendEmail:m5({credentials:c,host:d||mH,service:"io",region:mI}),createReceiver:e(m8),generatePresignedAttachmentUploadUrl:e(m7),sendEmailShallow:e(m6),getReceiver:e(m9),postSlackMessage:e(na),uploadSlackFile:e(nb)}};nc.signature={sendEmail:m6,createReceiver:m8,generatePresignedAttachmentUploadUrl:m7,getReceiver:m9,postSlackMessage:na,uploadSlackFile:nb};var nd=function(){return C(z().mark(function a(){return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw Error("Not Allowed");case 1:case"end":return a.stop()}},a)}))},ne=cc({receives:m$,create:a3("createReceiver"),update:nd,delete:nd,get:function(a){return ak(a.getReceiver)(bg(["receiverType","recipient"]))},mapToAttrs:ae,ignore409:!0}),nf=(0,n.object)({authToken:(0,n.string)()}),ng=(0,n.object)({}),nh=(0,n.object)({}),ni=(0,n.object)({}),nj=Object.values({openai:{__proto__:null,credentialsChecker:nf,settingsChecker:ng,vendorType:"openai"},csc:{__proto__:null,credentialsChecker:nh,settingsChecker:ni,vendorType:"cscinternal"}}),nk=function(a){return(0,n.object)({platformVendorId:(0,n.string)(),platformSpecificSettings:a})},nl=function(a){var b=a.vendorType,c=a.settingsChecker,d=a.credentialsChecker;return(0,n.object)({vendorName:(0,n.string)(),vendorType:(0,n.literal)(b),account:nk(c),credentials:d})},nm=n.union.apply(void 0,nj.map(nl)),nn=function(a){var b=a.vendorType,c=a.settingsChecker;return(0,n.object)({accountId:(0,n.string)(),vendorName:(0,n.string)(),vendorType:(0,n.literal)(b),account:nk(c)})},no=n.union.apply(void 0,nj.map(nn)),np=function(a){var b=a.vendorType,c=a.settingsChecker;return(0,n.object)({vendorName:(0,n.string)(),vendorType:(0,n.literal)(b),account:nk(c)})},nq=n.union.apply(void 0,nj.map(np)),nr=function(a){var b=a.vendorType,c=a.credentialsChecker;return(0,n.object)({vendorName:(0,n.string)(),vendorType:(0,n.literal)(b),credentials:c})},ns=n.union.apply(void 0,nj.map(nr)),nt=(0,n.object)({vendorName:(0,n.string)()}),nu={taskId:(0,n.string)(),vendorName:(0,n.string)(),vendorType:(0,n.string)(),baseModelName:(0,n.string)(),taskTypeName:(0,n.string)(),parameters:(0,n.string)()},nv=D({},nu,{accountId:(0,n.string)()}),nw=(0,n.literal)(null),nx=(0,n.object)(D({},nv,{status:(0,n.literal)("pending"),createdAt:(0,n.number)(),startedAt:nw,completedAt:nw,failedAt:nw,result:nw,error:nw})),ny=(0,n.object)(D({},nv,{status:(0,n.literal)("running"),createdAt:(0,n.number)(),startedAt:(0,n.number)(),completedAt:nw,failedAt:nw,result:nw,error:nw})),nz=(0,n.object)(D({},nv,{status:(0,n.literal)("completed"),createdAt:(0,n.number)(),startedAt:(0,n.number)(),completedAt:(0,n.number)(),failedAt:nw,result:(0,n.string)(),error:nw})),nA=(0,n.object)(D({},nv,{status:(0,n.literal)("failed"),createdAt:(0,n.number)(),startedAt:(0,n.number)(),completedAt:nw,failedAt:(0,n.number)(),result:nw,error:(0,n.string)()})),nB=(0,n.union)(nx,ny,nz,nA),nC=(0,n.object)(nu),nD=(0,n.object)({taskId:(0,n.string)()}),nE=(0,n.lazy)(function(){return(0,n.union)(nK,nH,nG,nF,nJ,nI)}),nF=(0,n.object)({description:(0,n.string)(),type:(0,n.literal)("string"),enum:(0,n.optional)((0,n.array)((0,n.string)())),minLength:(0,n.optional)((0,n.number)()),maxLength:(0,n.optional)((0,n.number)()),pattern:(0,n.optional)((0,n.string)())}),nG=(0,n.object)({description:(0,n.string)(),type:(0,n.literal)("number"),enum:(0,n.optional)((0,n.array)((0,n.string)())),minimum:(0,n.optional)((0,n.number)()),maximum:(0,n.optional)((0,n.number)()),exclusiveMinimum:(0,n.optional)((0,n.number)()),exclusiveMaximum:(0,n.optional)((0,n.number)())}),nH=(0,n.object)({description:(0,n.string)(),type:(0,n.literal)("boolean")}),nI=(0,n.object)({description:(0,n.string)(),type:(0,n.literal)("null")}),nJ=(0,n.object)({description:(0,n.string)(),type:(0,n.literal)("array"),items:nE,minItems:(0,n.optional)((0,n.number)()),maxItems:(0,n.optional)((0,n.number)())}),nK=(0,n.object)({description:(0,n.string)(),type:(0,n.literal)("object"),properties:(0,n.optional)((0,n.dict)(nE)),additionalProperties:(0,n.optional)((0,n.union)((0,n.bool)(),nE)),required:(0,n.optional)((0,n.array)((0,n.string)()))}),nL=(0,n.string)(),nM=(0,n.string)(),nN=(0,n.string)(),nO=(0,n.literal)("openai"),nP=(0,n.literal)("cscinternal"),nQ=(0,n.string)(),nR=(0,n.string)(),nS=(0,n.string)(),nT=(0,n.string)(),nU=(0,n.string)(),nV=(0,n.string)(),nW=(0,n.string)(),nX=(0,n.string)(),nY=(0,n.bool)(),nZ={taskDefinition:nQ,requestFunctionCall:(0,n.withDefault)(nY,!0),inputJsonSchema:nE,outputJsonSchema:nE},n$=D({},nZ,{inputExample:nW,outputExample:nX}),n_=(0,n.union)((0,n.object)(n$),(0,n.object)(nZ)),n0={inputExplainerJsonStyle:nR,outputExplainerJsonStyle:nS,inputExplainerEnglishStyle:nT,outputExplainerEnglishStyle:nU,systemPrompt:nV},n1=(0,n.bool)(),n2=(0,n.optional)((0,n.array)((0,n.object)({name:(0,n.string)(),dictionary:(0,n.array)((0,n.string)())}))),n3=(0,n.optional)((0,n.array)((0,n.object)({name:(0,n.string)(),dictionary:(0,n.array)((0,n.string)()),key:(0,n.string)()}))),n4=(0,n.object)({annotations:n2,caption:n1}),n5=(0,n.object)({annotations:n3,caption:n1}),n6=(0,n.optional)((0,n.string)()),n7=(0,n.optional)((0,n.number)()),n8=(0,n.optional)((0,n.string)()),n9=(0,n.optional)((0,n.string)()),oa=(0,n.optional)((0,n.string)()),ob=(0,n.object)({size:n6,n:n7,prompt:n9}),oc=(0,n.object)({image:oa,mask:n8,prompt:n9,size:n6,n:n7}),od=(0,n.object)({image:oa,size:n6,n:n7}),oe={taskTypeName:nM,vendorName:nN},of=function(a){return D({},a,{accountId:nL})},og=function(a,b,c){return D({},oe,{vendorType:c,details:a,baseModelName:b})},oh=og(n_,(0,n.union)((0,n.literal)("gpt-4-turbo"),(0,n.literal)("gpt-4"),(0,n.literal)("gpt-3.5-turbo"),(0,n.literal)("gpt-3.5-turbo-16k")),nO),oi=(0,n.object)(oh),oj=(0,n.object)(D({accountId:nL},oh,{details:(0,n.union)((0,n.object)(D({},n$,n0)),(0,n.object)(D({},nZ,n0)))})),ok=og(n4,(0,n.literal)("csc-image-interrogator"),nP),ol=(0,n.object)(ok),om=(0,n.object)(D({accountId:nL},ok,{details:n5})),on=og(ob,(0,n.literal)("dall-e-2-image-create"),nO),oo=(0,n.object)(on),op=(0,n.object)(of(on)),oq=og(oc,(0,n.literal)("dall-e-2-image-edit"),nO),or=(0,n.object)(oq),os=(0,n.object)(of(oq)),ot=og(od,(0,n.literal)("dall-e-2-image-variations"),nO),ou=(0,n.object)(ot),ov=(0,n.object)(of(ot)),ow=(0,n.union)(oi,ol,oo,or,ou),ox=(0,n.union)(oj,om,op,os,ov),oy=(0,n.object)({taskTypeName:nM}),oz=(0,n.optional)((0,n.string)()),oA=(0,n.object)({limit:(0,n.optional)((0,n.number)()),paginationToken:oz,previousPage:(0,n.optional)((0,n.bool)())}),oB=function(a){var b=void 0===a?{}:a,c=b.paginationToken,d=b.limit,e=b.previousPage;return{paginationToken:c,limit:String(d||10),previousPage:String(!!e)}},oC=(0,n.object)({written:(0,n.bool)()}),oD={receives:ow,method:f.POST,composePath:function(a){return"/taskTypes/"+encodeURIComponent(a.taskTypeName)},composeBody:function(a){return a},returns:ox},oE=D({},oD,{method:f.PUT}),oF={receives:oA,method:f.GET,composePath:function(){return"/taskTypes"},composeParams:oB,returns:(0,n.object)({taskTypes:(0,n.array)(ox),paginationToken:oz})},oG={receives:oy,method:f.GET,composePath:function(a){return"/taskTypes/"+encodeURIComponent(a.taskTypeName)},returns:ox},oH={receives:oy,method:f.DELETE,composePath:function(a){return"/taskTypes/"+encodeURIComponent(a.taskTypeName)},returns:oC},oI={receives:nm,method:f.POST,composePath:function(a){return"/vendors/"+encodeURIComponent(a.vendorName)},composeBody:function(a){return a},returns:no},oJ={receives:ns,method:f.PUT,composePath:function(a){return"/vendors/"+encodeURIComponent(a.vendorName)+"/credentials"},composeBody:function(a){return a},returns:no},oK={receives:nq,method:f.PUT,composePath:function(a){return"/vendors/"+encodeURIComponent(a.vendorName)+"/account"},composeBody:function(a){return a},returns:no},oL={receives:oA,method:f.GET,composePath:function(){return"/vendors"},composeParams:oB,returns:(0,n.object)({vendors:(0,n.array)(no),paginationToken:oz})},oM={receives:nt,method:f.GET,composePath:function(a){return"/vendors/"+encodeURIComponent(a.vendorName)},returns:no},oN={receives:nt,method:f.DELETE,composePath:function(a){return"/vendors/"+encodeURIComponent(a.vendorName)},returns:oC},oO={receives:nC,method:f.POST,composePath:function(a){return"/tasks/"+encodeURIComponent(a.taskId)},composeBody:function(a){return a},returns:nB},oP=(0,n.object)({taskId:(0,n.string)(),limit:(0,n.optional)((0,n.number)()),paginationToken:oz,previousPage:(0,n.optional)((0,n.bool)())}),oQ={receives:oP,method:f.GET,composePath:function(a){return"/tasks/"+encodeURIComponent(a.taskId)+"/executions"},composeParams:function(a){var b=a.paginationToken,c=a.limit,d=a.previousPage;return{paginationToken:b,limit:String(c||10),previousPage:String(!!d)}},returns:(0,n.object)({executions:(0,n.array)(nB),paginationToken:oz})},oR={receives:nD,method:f.GET,composePath:function(a){return"/tasks/"+encodeURIComponent(a.taskId)},returns:nB},oS=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({service:"iq",host:d||"api.csciq.com",region:"global",credentials:c});return{createTaskType:e(oD),updateTaskType:e(oE),listTaskTypes:e(oF),getTaskType:e(oG),deleteTaskType:e(oH),createVendor:e(oI),updateVendorCredentials:e(oJ),updateVendorAccount:e(oK),listVendors:e(oL),getVendor:e(oM),deleteVendor:e(oN),createTask:e(oO),listTaskExecutions:e(oQ),getTask:e(oR)}};oS.signature={createTaskType:oD,updateTaskType:oE,listTaskTypes:oF,getTaskType:oG,deleteTaskType:oH,createVendor:oI,updateVendorCredentials:oJ,updateVendorAccount:oK,listVendors:oL,getVendor:oM,deleteVendor:oN,createTask:oO,listTaskExecutions:oQ,getTask:oR};var oT=cc({receives:ow,create:a3("createTaskType"),update:a3("updateTaskType"),delete:function(a){return ak(a.deleteTaskType)(bg(["taskTypeName"]))},get:function(a){return ak(a.getTaskType)(bg(["taskTypeName"]))},mapToAttrs:bg(["taskTypeName"]),ignore409:!0}),oU={type:"string",description:"The name of the data set."},oV={type:"object",description:"A data record."},oW={description:"Uniquely identifies a data record in a data set.",oneOf:[{type:"string"},{type:"number"}]},oX={type:"string",description:"The read consistency to use for the operation.",enum:["strong","weak"]},oY={type:"array",description:"If provided, additionally returns fields annotated with the field classifications. Otherwise, only unclassified/un-annotated fields will be returned.",items:{type:"string"}},oZ={type:"string",description:"The object classification to filter on. Currently does nothing."},o$={type:"array",description:"The fields to return from the data record. Constrained by requested field classifications.",items:{type:"string"}},o_={type:"integer",description:"Maximum number of records to return.",minimum:0,maximum:1e3,default:100},o0={type:"string",description:"Token to fetch next set of results in a list operation."},o1={type:"object",description:"The schema for the data set against which every record will be validated.",required:["type","properties"],additionalProperties:!1,properties:{$schema:{type:"string",description:"The schema version.",enum:["http://json-schema.org/draft-07/schema#"]},$id:{type:"string",description:"The schema id."},$defs:{type:"object",description:"The schema definitions.",additionalProperties:{type:"object"}},type:{type:"string",description:"The type of the schema. Only object is supported for now.",enum:["object"]},additionalProperties:{oneOf:[{type:"boolean"},{type:"object"}]},patternProperties:{type:"object",description:"The pattern properties of the schema.",additionalProperties:{type:"object"}},required:{type:"array",description:"The required root level fields in the data set.",items:{type:"string"}}}},o2={type:"object",description:"The security configuration for the data set.",required:["objectClassification"],additionalProperties:!1,properties:{objectClassification:{type:"string",description:"The object classification for the data set. Applies to all records"},fieldClassification:{type:"object",description:"field/path wise classification/annotation for every record in the data set.",examples:[{Internal:["field1","nested.field2","nested.arrayField.[].field3"]}],additionalProperties:{type:"array",description:"Fields/Paths to annotate with the classification.",items:{type:"string"}}}}},o3={type:"object",description:"A response containing a data set.",required:["dataSetName","accountId","dataSetId","version","primaryKey","description","security","schema","createdAt","modifiedAt"],additionalProperties:!1,properties:{dataSetName:oU,accountId:{type:"string",description:"The CSC IAM account id the data set resides in."},dataSetId:{type:"string",description:"The unique id of the data set constructed from the name and account id."},version:{type:"number",description:"The version of the data set.",default:101},primaryKey:{type:"string",description:"The field whose value will be used to uniquely identify records."},description:{type:"string",description:"A description of the data set."},security:o2,schema:o1,createdAt:{type:"string",description:"The ISO-8601 timestamp when the data set was created.",format:"date-time"},modifiedAt:{type:"string",description:"The ISO-8601 timestamp when the data set was last modified.",format:"date-time"}}},o4={type:"object",description:"metadata",required:["trimmedFields"],properties:{trimmedFields:{type:"array",description:"The list of fields that were trimmed from the response due to field classification.",items:{type:"string"}}}},o5={type:"object",description:"A response for a write operation that succeeded.",required:["written"],additionalProperties:!1,properties:{written:{type:"boolean"}}},o6={getDataSetRequest:{type:"object",description:"A request to get a data set.",required:["dataSetName"],additionalProperties:!1,properties:{dataSetName:oU}},getDataSetResponse:o3,listDataSetsRequest:{type:"object",description:"A request to list data sets.",additionalProperties:!1,properties:{limit:o_,paginationToken:o0}},listDataSetsResponse:{type:"object",description:"A response containing a list of data sets.",required:["data","paginationToken"],additionalProperties:!1,properties:{data:{type:"array",description:"The list of data sets in current pagination window.",items:o3},paginationToken:o0}},createDataSetRequest:{type:"object",description:"A request to create a data set.",required:["dataSetName","primaryKey","description","schema","security"],additionalProperties:!1,properties:{dataSetName:oU,primaryKey:{type:"string",description:"The field whose value will be used to uniquely identify records."},description:{type:"string",description:"A description of the data set."},security:o2,schema:o1}},createDataSetResponse:o5,enableDataSetIndexRequest:{type:"object",description:"A request to enable indexing on a data set.",required:["dataSetName"],additionalProperties:!1,properties:{dataSetName:oU}},enableDataSetIndexResponse:o5,disableDataSetIndexRequest:{type:"object",description:"A request to disable indexing on a data set.",required:["dataSetName"],additionalProperties:!1,properties:{dataSetName:oU}},disableDataSetIndexResponse:o5,describeDataSetIndexRequest:{type:"object",description:"A request to describe the index on a data set.",required:["dataSetName"],additionalProperties:!1,properties:{dataSetName:oU}},describeDataSetIndexResponse:{type:"object",description:"A response describing the index on a data set.",required:["streamStatus","indexStatus","mapping"],additionalProperties:!1,properties:{streamStatus:{type:"string",description:"The status of the data stream."},indexStatus:{type:"string",description:"The status of the index."},mapping:{type:"object",required:["mappings"],properties:{mappings:{type:"object",description:"The mappings of the opensearch index.",required:["properties","_meta"],additionalProperties:!1,properties:{properties:{type:"object"},_meta:{type:"object",required:["accountId","dataSetName","description","version"],additionalProperties:!1,properties:{accountId:{type:"string"},dataSetName:{type:"string"},description:{type:"string"},version:{type:"number"}}}}}}}}},getDataRequest:{type:"object",description:"A request to get a single data record from a data set.",additionalProperties:!1,required:["dataSetName","primaryKey"],properties:{dataSetName:oU,primaryKey:oW,readConsistency:oX,fields:o$,objectClassification:oZ,fieldClassification:oY}},getDataResponse:{type:"object",description:"A response containing a single data record.",required:["data","meta"],additionalProperties:!1,properties:{data:oV,meta:o4}},listDataRequest:{type:"object",properties:{dataSetName:oU,readConsistency:oX,fields:o$,objectClassification:oZ,fieldClassification:oY,limit:o_,paginationToken:o0,filters:{type:"object",description:"Filters to apply to a list operation. Does nothing for now.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",items:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}}]}}}},listDataResponse:{type:"object",description:"A response containing a list of data records.",required:["data","meta"],additionalProperties:!1,properties:{data:{type:"array",description:"The list of data records in current pagination window.",items:oV},paginationToken:o0,meta:o4}},queryDataRequest:{type:"object",description:"A request to perform opensearch query/aggregation against a data set.",required:["dataSetName","query"],additionalProperties:!1,properties:{dataSetName:oU,objectClassification:oZ,fieldClassification:oY,limit:o_,paginationToken:o0,query:{type:"object",description:"Opensearch compliant query."},sort:{type:"array",description:"Opensearch compliant sort.",items:{anyOf:[{type:"object"},{type:"string"}]}},aggregations:{type:"object",description:"Opensearch compliant aggregations. Do not use an aggregation named totalCount"}}},queryDataResponse:{type:"object",description:"A response containing opensearch query/aggregation results.",required:["data","meta","total"],additionalProperties:!1,properties:{data:{type:"array",description:"The list of data records in current pagination window.",items:oV},paginationToken:o0,aggregations:{type:"object"},total:{type:"number",description:"The total number of records matching the query."},meta:o4}},putDataRequest:{type:"object",description:"A request to unconditionally put a single data record into a data set.",required:["dataSetName","data"],additionalProperties:!1,properties:{dataSetName:oU,primaryKey:oW,data:{type:"object",description:"The data record to put into the data set."}}},putDataResponse:o5,deleteDataRequest:{type:"object",description:"A request to delete a single data record from a data set.",required:["dataSetName","primaryKey"],additionalProperties:!1,properties:{dataSetName:oU,primaryKey:oW}},deleteDataResponse:o5,dangerouslyTransactWriteDataRequest:{type:"object",description:"A request to perform transactional writes into one or more data sets.",required:["items"],additionalProperties:!1,properties:{items:{type:"array",description:"The list of items to write. Supports deletions or puts",minItems:1,maxItems:90,items:{oneOf:[{type:"object",description:"PutData action",required:["action","dataSetName","data","version","primaryKey"],additionalProperties:!1,properties:{action:{type:"string",enum:["PutData"]},dataSetName:oU,primaryKey:oW,data:oV,version:{type:"number"}}},{type:"object",description:"DeleteData action",required:["action","dataSetName","version","primaryKey"],additionalProperties:!1,properties:{action:{type:"string",enum:["DeleteData"]},dataSetName:oU,data:oV,version:{type:"number"}}}]}}}},dangerouslyTransactWriteDataResponse:o5},o7=(0,n.string)(),o8=(0,n.optional)((0,n.string)()),o9=(0,n.optional)((0,n.voidable)((0,n.string)())),pa=(0,n.optional)((0,n.voidable)((0,n.union)((0,n.string)(),(0,n.number)()))),pb=(0,n.optional)((0,n.union)((0,n.string)(),(0,n.number)())),pc=(0,n.optional)((0,n.constraint)((0,n.withDefault)((0,n.number)(),100),function(a){return a>=0&&a<=1e3})),pd=(0,n.optional)((0,n.withDefault)((0,n.union)((0,n.literal)("strong"),(0,n.literal)("weak")),"strong")),pe=(0,n.object)({written:(0,n.bool)()}),pf=(0,n.dict)((0,n.mixed)()),pg=(0,n.string)(),ph=pg,pi=(0,n.dict)((0,n.array)((0,n.string)())),pj=(0,n.object)({objectClassification:ph,fieldClassification:(0,n.optional)(pi)}),pk=(0,n.object)({$schema:(0,n.optional)((0,n.string)()),$id:(0,n.optional)((0,n.string)()),$defs:(0,n.optional)((0,n.dict)((0,n.mixed)())),type:(0,n.literal)("object"),additionalProperties:(0,n.optional)((0,n.bool)()),patternProperties:(0,n.optional)((0,n.dict)((0,n.mixed)())),properties:(0,n.dict)((0,n.mixed)()),required:(0,n.optional)((0,n.array)((0,n.string)()))}),pl={dataSetName:o7,primaryKey:(0,n.string)(),description:(0,n.string)(),security:pj,schema:pk,immutable:(0,n.optional)((0,n.bool)())},pm=(0,n.object)(D({},pl,{accountId:(0,n.string)(),dataSetId:(0,n.string)(),version:(0,n.number)(),createdAt:(0,n.string)(),modifiedAt:(0,n.string)()})),pn=(0,n.union)((0,n.string)(),(0,n.number)(),(0,n.bool)()),po=(0,n.union)(pn,(0,n.array)(pn)),pp=(0,n.array)(pg),pq=(0,n.object)({type:(0,n.literal)("text"),fields:(0,n.object)({keyword:(0,n.object)({type:(0,n.literal)("keyword"),ignore_above:(0,n.number)()}),ngram:(0,n.object)({type:(0,n.literal)("text"),analyzer:(0,n.string)()}),date:(0,n.optional)((0,n.object)({type:(0,n.literal)("date"),format:(0,n.string)(),ignore_malformed:(0,n.bool)()}))})}),pr=(0,n.object)({type:(0,n.union)((0,n.literal)("long"),(0,n.literal)("double")),fields:(0,n.object)({keyword:(0,n.optional)((0,n.object)({type:(0,n.literal)("keyword"),ignore_above:(0,n.number)()})),date:(0,n.optional)((0,n.object)({type:(0,n.literal)("date"),format:(0,n.string)(),ignore_malformed:(0,n.bool)()}))})}),ps=(0,n.object)({type:(0,n.literal)("boolean")}),pt=(0,n.object)({type:(0,n.literal)("date"),format:(0,n.string)()}),pu=(0,n.object)({type:(0,n.literal)("knn_vector"),dimension:(0,n.number)()}),pv=(0,n.union)(pq,pr,ps,pt,pu),pw=(0,n.dict)((0,n.union)(pv,(0,n.lazy)(function(){return px}),(0,n.lazy)(function(){return py}))),px=(0,n.object)({type:(0,n.literal)("nested"),properties:(0,n.optional)((0,n.lazy)(function(){return pw}))}),py=(0,n.object)({properties:(0,n.optional)((0,n.lazy)(function(){return pw}))}),pz=(0,n.object)({mappings:(0,n.object)({_meta:(0,n.object)({accountId:(0,n.string)(),dataSetName:(0,n.string)(),version:(0,n.number)(),description:(0,n.string)()}),properties:pw})}),pA=af(void 0),pB=function(a){return null==a},pC=ak(bc(","))((0,n.assertion)((0,n.array)((0,n.string)()))),pD=aH(pB)(pA)(pC),pE=aH(pB)(pA)(JSON.stringify),pF=aH(pB)(pA)(String),pG={dataSetName:o7,readConsistency:pd,fields:(0,n.optional)((0,n.array)((0,n.string)())),objectClassification:(0,n.optional)(ph),fieldClassification:(0,n.optional)(pp)},pH=(0,n.union)((0,n.string)(),(0,n.number)()),pI=(0,n.object)(D({},pG,{limit:pc,paginationToken:o9,filters:(0,n.optional)((0,n.dict)(po))})),pJ=(0,n.object)({data:(0,n.array)(pf),paginationToken:o8,meta:(0,n.object)({trimmedFields:(0,n.array)((0,n.string)())})}),pK=(0,n.object)(D({},pG,{primaryKey:pH})),pL=(0,n.object)({dataSetName:o7,primaryKey:(0,n.optional)(pH),mode:(0,n.optional)((0,n.union)((0,n.literal)("full"),(0,n.literal)("partial"))),data:pf}),pM=(0,n.object)({dataSetName:o7,primaryKey:pH}),pN=(0,n.object)(D({},pl)),pO=(0,n.object)({dataSetName:o7}),pP=(0,n.object)({limit:pc,paginationToken:o9}),pQ=(0,n.object)({data:(0,n.array)(pm),paginationToken:o8}),pR=(0,n.object)({dataSetName:o7,fields:(0,n.optional)((0,n.array)((0,n.string)())),objectClassification:(0,n.optional)(ph),fieldClassification:(0,n.optional)(pp),limit:pc,paginationToken:pa,query:(0,n.dict)((0,n.mixed)()),sort:(0,n.optional)((0,n.array)((0,n.mixed)())),aggregations:(0,n.optional)((0,n.dict)((0,n.mixed)())),post_filter:(0,n.optional)((0,n.mixed)()),paginationMode:(0,n.optional)((0,n.union)((0,n.literal)("token"),(0,n.literal)("page")))}),pS=(0,n.object)({data:(0,n.array)(pf),aggregations:(0,n.optional)((0,n.dict)((0,n.mixed)())),paginationToken:pb,total:(0,n.number)(),meta:(0,n.object)({paginationMode:(0,n.union)((0,n.literal)("token"),(0,n.literal)("page")),trimmedFields:(0,n.array)((0,n.string)()),notices:(0,n.optional)((0,n.array)((0,n.string)()))})}),pT=(0,n.object)({data:pf,meta:(0,n.object)({trimmedFields:(0,n.array)((0,n.string)())})}),pU=(0,n.object)({streamStatus:(0,n.string)(),indexStatus:(0,n.string)(),mapping:(0,n.dict)(pz)}),pV={dataSetName:o7,primaryKey:pH,version:(0,n.number)()},pW=(0,n.object)(D({},pV,{action:(0,n.literal)("PutData"),data:pf})),pX=(0,n.object)(D({},pV,{action:(0,n.literal)("UpdateData"),data:pf})),pY=(0,n.object)(D({},pV,{action:(0,n.literal)("DeleteData")})),pZ=(0,n.object)({items:(0,n.array)((0,n.union)(pW,pX,pY))}),p$=(0,n.object)({query:(0,n.string)(),tables:(0,n.array)((0,n.string)())}),p_=(0,n.object)({dataSetName:(0,n.string)(),action:(0,n.union)((0,n.object)({mode:(0,n.literal)("informational"),fieldPath:(0,n.string)(),description:(0,n.string)()}),(0,n.object)({mode:(0,n.literal)("additive"),fieldName:(0,n.string)(),schema:(0,n.dict)((0,n.mixed)())}))}),p0={receivesSchema:o6.listDataRequest,returnsSchema:o6.listDataResponse,receives:pI,method:f.GET,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/data"},composeParams:function(a){var b=a.fields,c=a.filters,d=a.limit,e=a.objectClassification,f=a.fieldClassification,g=a.readConsistency,h=a.paginationToken;return{readConsistency:g,limit:pF(d),paginationToken:h,fields:pD(b),filters:pE(c),fieldClassification:pD(f),objectClassification:e}},returns:pJ},p1={receivesSchema:o6.getDataRequest,returnsSchema:o6.getDataResponse,receives:pK,method:f.GET,composePath:function(a){var b=a.dataSetName,c=a.primaryKey;return"/data-set/"+encodeURIComponent(b)+"/data/"+encodeURIComponent(c)},composeParams:function(a){var b=a.fields,c=a.objectClassification,d=a.fieldClassification,e=a.readConsistency;return{readConsistency:e,fields:pD(b),fieldClassification:pD(d),objectClassification:c}},returns:pT},p2={receivesSchema:o6.putDataRequest,returnsSchema:o6.putDataResponse,receives:pL,method:f.PUT,composePath:function(a){var b=a.dataSetName,c=a.primaryKey;return"/data-set/"+encodeURIComponent(b)+"/data"+(c?"/"+encodeURIComponent(c):"")},composeParams:function(a){return{mode:a.mode}},composeBody:function(a){return a.data},returns:pe},p3={receivesSchema:o6.deleteDataRequest,returnsSchema:o6.deleteDataResponse,receives:pM,method:f.DELETE,composePath:function(a){var b=a.dataSetName,c=a.primaryKey;return"/data-set/"+encodeURIComponent(b)+"/data/"+encodeURIComponent(c)},returns:pe},p4={receivesSchema:o6.createDataSetRequest,returnsSchema:o6.createDataSetResponse,receives:pN,method:f.POST,composePath:function(){return"/data-set"},composeBody:function(a){return D({},a)},returns:pe},p5={receivesSchema:o6.getDataSetRequest,returnsSchema:o6.getDataSetResponse,receives:pO,method:f.GET,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)},returns:pm},p6={receivesSchema:o6.listDataSetsRequest,returnsSchema:o6.listDataSetsResponse,receives:pP,method:f.GET,composePath:function(){return"/data-set"},composeParams:function(a){var b=a.limit,c=a.paginationToken;return{limit:pF(b),paginationToken:c}},returns:pQ},p7={receivesSchema:o6.enableDataSetIndexRequest,returnsSchema:o6.enableDataSetIndexResponse,receives:pO,method:f.POST,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/data-index"},returns:pe},p8={receivesSchema:o6.disableDataSetIndexRequest,returnsSchema:o6.disableDataSetIndexResponse,receives:pO,method:f.DELETE,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/data-index"},returns:pe},p9={receivesSchema:o6.describeDataSetIndexRequest,returnsSchema:o6.describeDataSetIndexResponse,receives:pO,method:f.GET,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/data-index"},returns:pU},qa={receivesSchema:o6.queryDataRequest,returnsSchema:o6.queryDataResponse,receives:pR,method:f.POST,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/data-index/query"},composeBody:function(a){var b=a.query,c=a.aggregations,d=a.sort,e=a.post_filter;return{query:b,aggs:c,sort:d,post_filter:e}},composeParams:function(a){var b=a.fields,c=a.objectClassification,d=a.fieldClassification,e=a.limit,f=a.paginationToken,g=a.paginationMode;return{limit:pF(e),paginationToken:pF(f),paginationMode:g,fields:pD(b),fieldClassification:pD(d),objectClassification:c}},returns:pS},qb={receivesSchema:o6.dangerouslyTransactWriteDataRequest,returnsSchema:o6.dangerouslyTransactWriteDataResponse,receives:pZ,method:f.POST,composePath:function(){return"/transactions/data-sets/data/unsafe"},composeBody:function(a){return{items:a.items}},returns:pe},qc={receives:(0,n.literal)(void 0),returns:pe,method:f.POST,composePath:function(){return"/sql-capability"}},qd={receives:(0,n.literal)(void 0),returns:pe,method:f.DELETE,composePath:function(){return"/sql-capability"}},qe={receives:pO,returns:pe,method:f.POST,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/sql-table"}},qf={receives:pO,returns:(0,n.object)({columns:(0,n.array)((0,n.object)({columnName:(0,n.string)(),dataType:(0,n.string)(),isNullable:(0,n.union)((0,n.literal)("YES"),(0,n.literal)("NO")),characterMaximumLength:(0,n.nullable)((0,n.number)()),columnDefault:(0,n.nullable)((0,n.mixed)())}))}),method:f.GET,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/sql-table"}},qg={receives:pO,returns:pe,method:f.DELETE,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)+"/sql-table"}},qh={receives:p$,returns:(0,n.object)({rows:(0,n.array)((0,n.dict)((0,n.mixed)())),count:(0,n.number)(),fields:(0,n.array)((0,n.object)({name:(0,n.string)(),tableID:(0,n.number)(),columnID:(0,n.number)(),dataTypeID:(0,n.number)(),dataTypeSize:(0,n.number)(),dataTypeModifier:(0,n.number)(),format:(0,n.string)()}))}),method:f.POST,composePath:af("/sql-capability/tables"),composeBody:function(a){var b=a.query,c=a.tables;return{query:b,tables:c}}},qi={receives:p_,returns:pe,method:f.PUT,composePath:function(a){return"/data-set/"+encodeURIComponent(a.dataSetName)},composeBody:function(a){return D({},a.action)}},qj=function(a){var b=void 0===a?{}:a,c=b.credentials,d=b.host,e=b9({host:d||"api.cscdmp.com",service:"dmp",region:"global",credentials:c});return{listData:e(p0),getData:e(p1),putData:e(p2),deleteData:e(p3),queryData:e(qa),listDataSets:e(p6),getDataSet:e(p5),createDataSet:e(p4),enableDataSetIndex:e(p7),disableDataSetIndex:e(p8),describeDataSetIndex:e(p9),dangerouslyTransactWriteData:e(qb),addAccountSqlCapability:e(qc),removeAccountSqlCapability:e(qd),enableDataSetSqlTable:e(qe),describeDataSetSqlTable:e(qf),disableDataSetSqlTable:e(qg),executeSqlQueryOnAccountTables:e(qh),putDataSetProperty:e(qi)}};qj.signature={listData:p0,getData:p1,putData:p2,deleteData:p3,queryData:qa,listDataSets:p6,getDataSet:p5,createDataSet:p4,enableDataSetIndex:p7,disableDataSetIndex:p8,describeDataSetIndex:p9,dangerouslyTransactWriteData:qb,addAccountSqlCapability:qc,removeAccountSqlCapability:qd,enableDataSetSqlTable:qe,describeDataSetSqlTable:qf,disableDataSetSqlTable:qg,executeSqlQueryOnAccountTables:qh,putDataSetProperty:qi};var qk=function(){return C(z().mark(function a(){return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{written:!0});case 1:case"end":return a.stop()}},a)}))},ql=cc({receives:pN,create:a3("createDataSet"),update:qk,delete:function(a){return ak(a.getDataSet)(bg(["dataSetName"]))},get:function(a){return ak(a.getDataSet)(bg(["dataSetName"]))},mapToAttrs:bg(["dataSetName"]),ignore409:!0}),qm={IAM:{Role:eG,User:eJ,Group:eI,Policy:eH,AttachUserPolicy:eL,AttachGroupPolicy:eN,AttachRolePolicy:eM,AttachUserGroup:eO},Pipelines:{Pipeline:{create:mo,ignore409:!0}},DMP:{DataSet:ql},IQ:{TaskType:oT},IO:{CreateReceiver:ne}},qn="Unknown Error",qo=function(a){var b;return b=C(z().mark(function b(c){var d,e;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,a(c);case 3:return b.t0=b.sent,b.abrupt("return",[null,b.t0]);case 7:if(b.prev=7,b.t1=b.catch(0),e=b.t1,!(null!=(0,m.Z)(b.t1)&&"object"==typeof e.response&&"object"==typeof e.response.data&&"string"==typeof(null==(d=e.response.data)?void 0:d.message))){b.next=12;break}return b.abrupt("return",[e.response.data.message||qn,null]);case 12:if(!(0,l.Z)(b.t1,Error)){b.next=14;break}return b.abrupt("return",[b.t1.message||qn,null]);case 14:return b.abrupt("return",[String(b.t1)||qn,null]);case 15:case"end":return b.stop()}},b,null,[[0,7]])})),function(a){return b.apply(this,arguments)}},qp=b3.basicUncachedCorsJsonApiHeaders;b.default={FP:bL,Bridges:eT,Credentials:aa,Signer:bV,ServiceIntegrationToolkit:b3,IAM:eD,Loyalty:fl,PIMBeta:kl,PIM:kl,Payments:hd,ShopFront:mc,ShopFrontCatalogAlpha:mg,Slack:mB,Pipelines:mr,Data:mF,IO:nc,IQ:oS,DMP:qj,allProvisionableResources:qm}}}])
//# sourceMappingURL=4183500b-df75a8db63ab947c.js.map